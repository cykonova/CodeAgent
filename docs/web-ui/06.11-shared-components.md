# Phase 06.12: Shared Components

## Overview
Documentation for additional shared UI components that are referenced throughout the application but haven't been fully documented yet. These components provide consistent UI patterns using Material Design and theme variables.

## Components

### 1. Loading Overlay Component

#### Overview
A full-screen or container-specific loading overlay with Material progress spinner and optional message.

#### Implementation
```typescript
@Component({
  selector: 'app-loading-overlay',
  standalone: true,
  imports: [CommonModule, MatProgressSpinnerModule],
  template: `
    <div class="loading-overlay" [class.visible]="visible">
      <div class="loading-content">
        <mat-spinner [diameter]="spinnerSize"></mat-spinner>
        <div class="loading-message" *ngIf="message">{{ message }}</div>
      </div>
    </div>
  `,
  styleUrls: ['./loading-overlay.component.scss']
})
export class LoadingOverlayComponent {
  @Input() visible = false;
  @Input() message = '';
  @Input() spinnerSize = 50;
  @Input() fullscreen = true;
  @Input() backdrop = true;
}
```

#### Styling
```scss
.loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 200ms ease, visibility 200ms ease;
  
  &.visible {
    opacity: 1;
    visibility: visible;
  }
  
  &.fullscreen {
    position: fixed;
  }
}

.loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  background: var(--theme-surface);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
}

.loading-message {
  color: var(--theme-text-primary);
  font-size: 14px;
  text-align: center;
}
```

#### Usage
```html
<app-loading-overlay 
  [visible]="isLoading" 
  message="Loading projects...">
</app-loading-overlay>
```

---

### 2. Skeleton Loader Component

#### Overview
Placeholder loading animation for content that's being fetched, following Material Design skeleton screen patterns.

#### Implementation
```typescript
@Component({
  selector: 'app-skeleton-loader',
  standalone: true,
  imports: [CommonModule],
  template: `
    <div class="skeleton-loader" 
         [class]="'skeleton-' + type"
         [style.width]="width"
         [style.height]="height">
      <div class="skeleton-shimmer"></div>
    </div>
  `,
  styleUrls: ['./skeleton-loader.component.scss']
})
export class SkeletonLoaderComponent {
  @Input() type: 'text' | 'title' | 'avatar' | 'image' | 'card' = 'text';
  @Input() width = '100%';
  @Input() height = 'auto';
  @Input() count = 1;
}
```

#### Styling
```scss
.skeleton-loader {
  position: relative;
  overflow: hidden;
  background: var(--theme-surface-variant);
  border-radius: var(--radius-sm);
  
  &.skeleton-text {
    height: 16px;
    margin-bottom: var(--spacing-xs);
  }
  
  &.skeleton-title {
    height: 24px;
    margin-bottom: var(--spacing-sm);
  }
  
  &.skeleton-avatar {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-full);
  }
  
  &.skeleton-image {
    height: 200px;
    border-radius: var(--radius-md);
  }
  
  &.skeleton-card {
    height: 120px;
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
  }
}

.skeleton-shimmer {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  to {
    left: 100%;
  }
}

// Dark theme adjustments
.dark-theme {
  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.08),
      transparent
    );
  }
}
```

#### Usage
```html
<!-- Text skeleton -->
<app-skeleton-loader type="text"></app-skeleton-loader>

<!-- Card skeleton -->
<app-skeleton-loader type="card" height="150px"></app-skeleton-loader>

<!-- Multiple lines -->
<ng-container *ngFor="let _ of [1,2,3]">
  <app-skeleton-loader type="text"></app-skeleton-loader>
</ng-container>
```

---

### 3. Status Indicator Component

#### Overview
Visual status indicator with colored badges, icons, and optional pulsing animation for real-time status display.

#### Implementation
```typescript
export type StatusType = 'success' | 'warning' | 'error' | 'info' | 'idle' | 'running' | 'paused';

@Component({
  selector: 'app-status-indicator',
  standalone: true,
  imports: [CommonModule, MatIconModule, MatTooltipModule],
  template: `
    <div class="status-indicator" 
         [class]="'status-' + status"
         [class.with-label]="showLabel"
         [class.pulse]="pulse"
         [matTooltip]="tooltip">
      <div class="status-dot" *ngIf="style === 'dot'"></div>
      <mat-icon *ngIf="style === 'icon'" [inline]="true">
        {{ getIcon() }}
      </mat-icon>
      <span class="status-label" *ngIf="showLabel">
        {{ label || getLabel() }}
      </span>
    </div>
  `,
  styleUrls: ['./status-indicator.component.scss']
})
export class StatusIndicatorComponent {
  @Input() status: StatusType = 'idle';
  @Input() style: 'dot' | 'icon' | 'badge' = 'dot';
  @Input() showLabel = false;
  @Input() label?: string;
  @Input() tooltip = '';
  @Input() pulse = false;
  
  getIcon(): string {
    const icons: Record<StatusType, string> = {
      success: 'check_circle',
      warning: 'warning',
      error: 'error',
      info: 'info',
      idle: 'pause_circle',
      running: 'play_circle',
      paused: 'pause_circle'
    };
    return icons[this.status];
  }
  
  getLabel(): string {
    return this.status.charAt(0).toUpperCase() + this.status.slice(1);
  }
}
```

#### Styling
```scss
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
  
  &.with-label {
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--theme-surface-variant);
    border-radius: var(--radius-sm);
  }
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  
  .status-success & { background: #4caf50; }
  .status-warning & { background: #ff9800; }
  .status-error & { background: #f44336; }
  .status-info & { background: #2196f3; }
  .status-idle & { background: #9e9e9e; }
  .status-running & { background: #4caf50; }
  .status-paused & { background: #ff9800; }
  
  .pulse & {
    animation: pulse-animation 2s infinite;
  }
}

.status-label {
  font-size: 12px;
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

@keyframes pulse-animation {
  0% {
    box-shadow: 0 0 0 0 currentColor;
  }
  70% {
    box-shadow: 0 0 0 10px transparent;
  }
  100% {
    box-shadow: 0 0 0 0 transparent;
  }
}
```

#### Usage
```html
<!-- Simple dot indicator -->
<app-status-indicator status="running" [pulse]="true"></app-status-indicator>

<!-- Icon with label -->
<app-status-indicator 
  status="error" 
  style="icon" 
  [showLabel]="true"
  tooltip="Connection failed">
</app-status-indicator>
```

---

### 4. Progress Indicator Component

#### Overview
A flexible progress indicator supporting linear, circular, and step-based progress visualization.

#### Implementation
```typescript
@Component({
  selector: 'app-progress-indicator',
  standalone: true,
  imports: [CommonModule, MatProgressBarModule, MatProgressSpinnerModule],
  template: `
    <div class="progress-indicator">
      <!-- Linear progress -->
      <div *ngIf="type === 'linear'" class="linear-progress">
        <mat-progress-bar 
          [mode]="mode"
          [value]="value"
          [color]="color">
        </mat-progress-bar>
        <div class="progress-info" *ngIf="showInfo">
          <span class="progress-label">{{ label }}</span>
          <span class="progress-value">{{ value }}%</span>
        </div>
      </div>
      
      <!-- Circular progress -->
      <div *ngIf="type === 'circular'" class="circular-progress">
        <mat-progress-spinner
          [mode]="mode"
          [value]="value"
          [diameter]="diameter"
          [color]="color">
        </mat-progress-spinner>
        <div class="progress-text" *ngIf="showInfo">
          {{ value }}%
        </div>
      </div>
      
      <!-- Step progress -->
      <div *ngIf="type === 'steps'" class="step-progress">
        <div class="step" 
             *ngFor="let step of steps; let i = index"
             [class.active]="i === currentStep"
             [class.completed]="i < currentStep">
          <div class="step-indicator">
            <mat-icon *ngIf="i < currentStep">check</mat-icon>
            <span *ngIf="i >= currentStep">{{ i + 1 }}</span>
          </div>
          <div class="step-label">{{ step }}</div>
        </div>
      </div>
    </div>
  `,
  styleUrls: ['./progress-indicator.component.scss']
})
export class ProgressIndicatorComponent {
  @Input() type: 'linear' | 'circular' | 'steps' = 'linear';
  @Input() mode: 'determinate' | 'indeterminate' = 'determinate';
  @Input() value = 0;
  @Input() color: 'primary' | 'accent' | 'warn' = 'primary';
  @Input() diameter = 40;
  @Input() showInfo = true;
  @Input() label = 'Progress';
  @Input() steps: string[] = [];
  @Input() currentStep = 0;
}
```

#### Styling
```scss
.progress-indicator {
  width: 100%;
}

.linear-progress {
  .progress-info {
    display: flex;
    justify-content: space-between;
    margin-top: var(--spacing-xs);
    font-size: 12px;
    color: var(--theme-text-secondary);
  }
}

.circular-progress {
  position: relative;
  display: inline-block;
  
  .progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px;
    font-weight: var(--font-weight-medium);
  }
}

.step-progress {
  display: flex;
  justify-content: space-between;
  
  .step {
    flex: 1;
    text-align: center;
    position: relative;
    
    &:not(:last-child)::after {
      content: '';
      position: absolute;
      top: 20px;
      left: 50%;
      width: 100%;
      height: 2px;
      background: var(--theme-divider);
    }
    
    &.completed::after {
      background: var(--theme-primary);
    }
  }
  
  .step-indicator {
    width: 40px;
    height: 40px;
    margin: 0 auto var(--spacing-xs);
    border-radius: var(--radius-full);
    background: var(--theme-surface-variant);
    border: 2px solid var(--theme-divider);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1;
    
    .completed & {
      background: var(--theme-primary);
      border-color: var(--theme-primary);
      color: white;
    }
    
    .active & {
      border-color: var(--theme-primary);
      color: var(--theme-primary);
    }
  }
  
  .step-label {
    font-size: 12px;
    color: var(--theme-text-secondary);
    
    .active & {
      color: var(--theme-text-primary);
      font-weight: var(--font-weight-medium);
    }
  }
}
```

#### Usage
```html
<!-- Linear progress -->
<app-progress-indicator 
  type="linear" 
  [value]="75" 
  label="Upload Progress">
</app-progress-indicator>

<!-- Circular progress -->
<app-progress-indicator 
  type="circular" 
  [value]="60" 
  [diameter]="80">
</app-progress-indicator>

<!-- Step progress -->
<app-progress-indicator 
  type="steps" 
  [steps]="['Setup', 'Configure', 'Deploy', 'Complete']"
  [currentStep]="2">
</app-progress-indicator>
```

---

### 5. Empty State Component

#### Overview
Placeholder component for empty lists or no-data scenarios with icon, message, and optional action button.

#### Implementation
```typescript
@Component({
  selector: 'app-empty-state',
  standalone: true,
  imports: [CommonModule, MatIconModule, MatButtonModule],
  template: `
    <div class="empty-state">
      <mat-icon class="empty-icon" *ngIf="icon">{{ icon }}</mat-icon>
      <h3 class="empty-title">{{ title }}</h3>
      <p class="empty-message" *ngIf="message">{{ message }}</p>
      <button mat-raised-button 
              [color]="actionColor"
              *ngIf="actionLabel"
              (click)="actionClick.emit()">
        <mat-icon *ngIf="actionIcon">{{ actionIcon }}</mat-icon>
        {{ actionLabel }}
      </button>
    </div>
  `,
  styleUrls: ['./empty-state.component.scss']
})
export class EmptyStateComponent {
  @Input() icon = 'inbox';
  @Input() title = 'No data available';
  @Input() message = '';
  @Input() actionLabel = '';
  @Input() actionIcon = '';
  @Input() actionColor: 'primary' | 'accent' = 'primary';
  @Output() actionClick = new EventEmitter<void>();
}
```

#### Styling
```scss
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-xxl);
  text-align: center;
  min-height: 300px;
}

.empty-icon {
  font-size: 64px;
  width: 64px;
  height: 64px;
  color: var(--theme-text-disabled);
  margin-bottom: var(--spacing-lg);
}

.empty-title {
  margin: 0 0 var(--spacing-sm);
  color: var(--theme-text-primary);
  font-weight: var(--font-weight-regular);
}

.empty-message {
  margin: 0 0 var(--spacing-lg);
  color: var(--theme-text-secondary);
  max-width: 400px;
}

button {
  mat-icon {
    margin-right: var(--spacing-xs);
  }
}
```

#### Usage
```html
<app-empty-state
  icon="folder_open"
  title="No projects yet"
  message="Create your first project to get started"
  actionLabel="Create Project"
  actionIcon="add"
  (actionClick)="createProject()">
</app-empty-state>
```

## Shared Component Module

For non-standalone usage, create a shared module:

```typescript
@NgModule({
  imports: [
    CommonModule,
    MatIconModule,
    MatButtonModule,
    MatProgressBarModule,
    MatProgressSpinnerModule,
    MatTooltipModule
  ],
  declarations: [
    LoadingOverlayComponent,
    SkeletonLoaderComponent,
    StatusIndicatorComponent,
    ProgressIndicatorComponent,
    EmptyStateComponent
  ],
  exports: [
    LoadingOverlayComponent,
    SkeletonLoaderComponent,
    StatusIndicatorComponent,
    ProgressIndicatorComponent,
    EmptyStateComponent
  ]
})
export class SharedComponentsModule {}
```

## Testing Guidelines

Each component should have tests for:
- Input property binding
- Output event emission
- Conditional rendering
- CSS class application
- Theme variable usage
- Accessibility attributes

Example test:
```typescript
describe('StatusIndicatorComponent', () => {
  let component: StatusIndicatorComponent;
  let fixture: ComponentFixture<StatusIndicatorComponent>;
  
  beforeEach(() => {
    TestBed.configureTestingModule({
      imports: [StatusIndicatorComponent]
    });
    
    fixture = TestBed.createComponent(StatusIndicatorComponent);
    component = fixture.componentInstance;
  });
  
  it('should display correct icon for status', () => {
    component.status = 'success';
    component.style = 'icon';
    fixture.detectChanges();
    
    const icon = fixture.nativeElement.querySelector('mat-icon');
    expect(icon.textContent.trim()).toBe('check_circle');
  });
  
  it('should apply pulse animation when enabled', () => {
    component.pulse = true;
    fixture.detectChanges();
    
    const indicator = fixture.nativeElement.querySelector('.status-indicator');
    expect(indicator.classList.contains('pulse')).toBe(true);
  });
});
```

## Deliverables
- [ ] LoadingOverlay component with theme styling
- [ ] SkeletonLoader with various types
- [ ] StatusIndicator with multiple styles
- [ ] ProgressIndicator supporting linear/circular/steps
- [ ] EmptyState component for no-data scenarios
- [ ] All components use theme variables
- [ ] Dark theme support implemented
- [ ] Unit tests for each component
- [ ] Accessibility compliant
- [ ] Documentation complete

## Next Steps
- Update feature pages to use shared components
- Create additional specialized components as needed
- Implement component showcase page