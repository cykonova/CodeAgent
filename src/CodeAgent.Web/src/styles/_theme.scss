// Angular Material Theme Configuration
@use '@angular/material' as mat;
@use 'sass:map';

// Include Material core (only once in the application)
@include mat.core();

// ============================================
// Light Theme Definition
// ============================================
$light-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: 'Roboto, "Helvetica Neue", sans-serif',
    plain-family: 'Roboto, "Helvetica Neue", sans-serif',
    bold-weight: 700,
    medium-weight: 500,
    regular-weight: 400,
  ),
  density: (
    scale: 0,
  )
));

// ============================================
// Dark Theme Definition
// ============================================
$dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: mat.$azure-palette,
    tertiary: mat.$blue-palette,
  ),
  typography: (
    brand-family: 'Roboto, "Helvetica Neue", sans-serif',
    plain-family: 'Roboto, "Helvetica Neue", sans-serif',
    bold-weight: 700,
    medium-weight: 500,
    regular-weight: 400,
  ),
  density: (
    scale: 0,
  )
));

// ============================================
// Theme Application
// ============================================

// Light theme (default)
:root {
  @include mat.all-component-themes($light-theme);
  
  // Custom light theme variables
  --background-primary: #ffffff;
  --background-secondary: #fafafa;
  --background-tertiary: #f5f5f5;
  --surface-primary: #ffffff;
  --surface-secondary: #f5f5f5;
  
  --text-primary: rgba(0, 0, 0, 0.87);
  --text-secondary: rgba(0, 0, 0, 0.60);
  --text-disabled: rgba(0, 0, 0, 0.38);
  --text-hint: rgba(0, 0, 0, 0.38);
  
  --divider-color: rgba(0, 0, 0, 0.12);
  --overlay-background: rgba(0, 0, 0, 0.5);
  
  --scrollbar-thumb: rgba(0, 0, 0, 0.2);
  --scrollbar-track: rgba(0, 0, 0, 0.05);
}

// Dark theme
.dark-theme {
  @include mat.all-component-colors($dark-theme);
  
  // Custom dark theme variables
  --background-primary: #1e1e1e;
  --background-secondary: #2d2d2d;
  --background-tertiary: #383838;
  --surface-primary: #2d2d2d;
  --surface-secondary: #383838;
  
  --text-primary: rgba(255, 255, 255, 1.0);
  --text-secondary: rgba(255, 255, 255, 0.70);
  --text-disabled: rgba(255, 255, 255, 0.50);
  --text-hint: rgba(255, 255, 255, 0.50);
  
  --divider-color: rgba(255, 255, 255, 0.12);
  --overlay-background: rgba(0, 0, 0, 0.7);
  
  --scrollbar-thumb: rgba(255, 255, 255, 0.2);
  --scrollbar-track: rgba(255, 255, 255, 0.05);
}

// ============================================
// Material Component Shape Overrides
// ============================================
:root {
  // Remove rounded corners from sidenav
  --mat-sidenav-container-shape: 0;
  --mdc-list-list-item-container-shape: 0;
  --mdc-list-list-item-leading-avatar-shape: 0;
}

// ============================================
// Material Overrides & Extensions
// ============================================

// Custom scrollbar styling
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

*::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: var(--radius-sm);
  
  &:hover {
    background-color: var(--scrollbar-thumb);
    opacity: 0.8;
  }
}

// Smooth theme transitions
* {
  transition: background-color var(--transition-base),
              color var(--transition-base),
              border-color var(--transition-base);
}

// Disable transitions during theme switch
.theme-transition-none * {
  transition: none !important;
}