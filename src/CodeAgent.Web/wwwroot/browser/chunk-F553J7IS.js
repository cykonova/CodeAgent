import{c as Kt,d as Yt,f as st,g as rt,h as Jt}from"./chunk-WRWXI3SN.js";import{a as Kn,b as Yn,c as Jn,e as Zn,f as Xn,g as ei,h as ti,i as ni,j as ii,k as oi}from"./chunk-3KDAEW3U.js";import{a as vt,b as ze,c as qn,e as Mt,f as bt,g as ci}from"./chunk-FKB2G6PN.js";import{A as Qn,B as Re,C as Ne,D as Be,E as ai,F as si,G as ri,H as li,d as ft,g as Rn,h as Nn,k as De,l as Bn,m as Ln,n as Ct,o as de,p as xt,q as Ae,r as W,s as Pt,t as Hn,u as Vn,v as $n,w as jn,x as Gn,y as Un,z as Wn}from"./chunk-RJ4KG3HU.js";import{f as Dn,i as An,j as zn,v as X,w as U}from"./chunk-Q7P2ZAEN.js";import{Ba as j,D as yn,F as lt,G as wn,Ga as mt,Ha as pt,Ia as gt,Ka as ht,L as Sn,La as ut,Ma as _t,Na as fe,O as kn,Oa as F,P as be,Pa as I,Q as Tn,Ra as G,S as En,Sa as Ce,Ta as D,X as In,_ as Ge,d as bn,e as ce,fa as ct,g as On,h as E,ia as Fn,ja as Z,k as pe,ka as $,l as qt,la as dt,m as at,oa as he,sa as ue,va as _e}from"./chunk-L4NQB5CI.js";import{$a as gn,$b as me,Aa as Ee,Ab as f,B as sn,Ba as dn,Bb as C,Bc as Pn,C as Ve,Cb as Ut,Cc as vn,Da as je,Db as K,E as Y,Ea as mn,Eb as w,Fb as S,Gb as g,Hb as o,Hc as ot,Ib as a,J as rn,Jb as k,Kb as ge,Kc as oe,Lb as ve,Lc as Mn,Mb as it,Qb as hn,R as $e,Rb as T,Sb as un,Vb as p,W as $t,Wa as pn,Xb as d,Yb as Wt,Za as l,Zb as Me,_ as J,_b as Qt,a as M,ac as ne,b,ba as Je,bb as Xe,bc as ie,ca as ke,cb as jt,ea as Te,eb as et,f as Ye,fa as ln,fc as _n,ga as _,gc as fn,hc as x,jb as O,jc as s,k as He,kb as Ie,kc as m,l as nn,la as P,lb as ae,lc as y,m as on,ma as v,mc as z,na as cn,nb as Gt,nc as se,oc as re,p as an,pb as R,pc as le,qa as Ze,rc as Fe,sb as B,tb as tt,tc as Cn,uc as xn,wa as u,zb as nt}from"./chunk-IEO7SS6L.js";var di="mat-badge-content",Mi=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=O({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,r){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return i})(),Ot=(()=>{class i{_ngZone=_(tt);_elementRef=_(je);_ariaDescriber=_(In);_renderer=_(Xe);_animationsDisabled=ct();_idGenerator=_(be);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=_(Sn);_document=_(Ze);constructor(){let e=_(lt);e.load(Mi),e.load(wn)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),t="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(di),this._animationsDisabled&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(t)})}):e.classList.add(t),e}_updateRenderedContent(e){let t=`${e??""}`.trim();this._isInitialized&&t&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=t),this._content=t}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let t=this._elementRef.nativeElement.classList;t.remove(`mat-badge-${this._color}`),e&&t.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${di}`);for(let t of Array.from(e))t!==this._badgeElement&&t.remove()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,r){t&2&&x("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",oe],disabled:[2,"matBadgeDisabled","disabled",oe],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",oe]}})}return i})(),xe=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ie({type:i});static \u0275inj=ke({imports:[kn,Ge,Ge]})}return i})();var bi=(i,n)=>n.id;function Oi(i,n){if(i&1&&(o(0,"span",2),s(1),a()),i&2){let e=d();l(),m(e.subtitle)}}function yi(i,n){if(i&1&&(o(0,"mat-chip",4)(1,"mat-icon"),s(2,"security"),a(),s(3),a()),i&2){let e=d();l(3),y(" ",e.permissionsCount," permissions active ")}}function wi(i,n){if(i&1){let e=T();o(0,"button",9),p("click",function(){let r=P(e).$implicit,c=d();return v(c.onActionClick(r.id))}),o(1,"mat-icon"),s(2),a()()}if(i&2){let e=n.$implicit;x("active",e.active),g("matBadge",e.badge)("matBadgeHidden",!e.badge||e.badge===0)("matTooltip",e.tooltip),l(2),m(e.icon)}}function Si(i,n){i&1&&k(0,"mat-divider",7),i&2&&g("vertical",!0)}var yt=class i{title="AI Assistant";subtitle;actions=[];showPermissionsBadge=!1;permissionsCount=0;actionClick=new B;clearSession=new B;onActionClick(n){this.actionClick.emit(n)}onClearSession(){this.clearSession.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-chat-header"]],inputs:{title:"title",subtitle:"subtitle",actions:"actions",showPermissionsBadge:"showPermissionsBadge",permissionsCount:"permissionsCount"},outputs:{actionClick:"actionClick",clearSession:"clearSession"},decls:14,vars:4,consts:[[1,"chat-header"],[1,"header-left"],[1,"subtitle"],[1,"session-info"],[1,"permissions-chip"],[1,"header-actions"],["mat-icon-button","","matBadgeColor","accent","matBadgeSize","small",3,"active","matBadge","matBadgeHidden","matTooltip"],[3,"vertical"],["mat-icon-button","","matTooltip","Clear Session",3,"click"],["mat-icon-button","","matBadgeColor","accent","matBadgeSize","small",3,"click","matBadge","matBadgeHidden","matTooltip"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),s(3),a(),f(4,Oi,2,1,"span",2),o(5,"div",3),f(6,yi,4,1,"mat-chip",4),a()(),o(7,"div",5),w(8,wi,3,6,"button",6,bi),f(10,Si,1,1,"mat-divider",7),o(11,"button",8),p("click",function(){return t.onClearSession()}),o(12,"mat-icon"),s(13,"clear_all"),a()()()()),e&2&&(l(3),m(t.title),l(),C(t.subtitle?4:-1),l(2),C(t.showPermissionsBadge&&t.permissionsCount>0?6:-1),l(2),S(t.actions),l(2),C(t.actions.length>0?10:-1))},dependencies:[E,I,F,D,G,xe,Ot,W,de,U,X,$,Z],styles:[".chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;background-color:var(--mat-surface);border-bottom:1px solid var(--mat-divider)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--mat-secondary-text);font-size:14px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   .permissions-chip[_ngcontent-%COMP%]{font-size:12px;height:24px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   .permissions-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:4px}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:rgba(var(--mat-primary-rgb),.12)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:24px;margin:0 8px}@media (max-width: 768px){.chat-header[_ngcontent-%COMP%]{padding:12px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   .permissions-chip[_ngcontent-%COMP%]{display:none}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(n+3):not(:last-child){display:none}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{display:none}}"]})};var qe=class i{toolCall;toolName="respond_to_user";content=u("");ngOnInit(){let n=this.toolCall.arguments?.message||this.toolCall.parameters?.message||this.toolCall.streamContent||"";this.content.set(n)}canRender(n){return n.name==="respond_to_user"}handleStream(n){this.content.update(e=>e+n)}onStreamComplete(){}formattedContent=u("");ngAfterContentInit(){this.formattedContent.set(this.formatMarkdown(this.content()))}formatMarkdown(n){let e=n;return e=e.replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>'),e=e.replace(/`([^`]+)`/g,"<code>$1</code>"),e=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),e=e.replace(/\*(.*?)\*/g,"<em>$1</em>"),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener">$1</a>'),e=e.replace(/\n/g,"<br>"),e}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-respond-to-user"]],inputs:{toolCall:"toolCall"},decls:2,vars:1,consts:[[1,"respond-to-user"],[1,"message-content",3,"innerHTML"]],template:function(e,t){e&1&&(ge(0,"div",0),it(1,"div",1),ve()),e&2&&(l(),un("innerHTML",t.formattedContent(),pn))},dependencies:[E],styles:[".respond-to-user[_ngcontent-%COMP%]{padding:0}.message-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;line-height:1.6}.message-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(pre){background:var(--surface-variant);border-radius:4px;padding:12px;overflow-x:auto;margin:8px 0}.message-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(code){background:var(--surface-variant);padding:2px 6px;border-radius:3px;font-family:Roboto Mono,monospace;font-size:.9em}.message-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(pre code){background:transparent;padding:0}"]})};var Zt=new Te("CdkAccordion"),pi=(()=>{class i{_stateChanges=new He;_openCloseAllActions=new He;id=_(be).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",oe]},exportAs:["cdkAccordion"],features:[Fe([{provide:Zt,useExisting:i}]),Ee]})}return i})(),gi=(()=>{class i{accordion=_(Zt,{optional:!0,skipSelf:!0});_changeDetectorRef=_(ot);_expansionDispatcher=_(dt);_openCloseAllSubscription=Ye.EMPTY;closed=new B;opened=new B;destroyed=new B;expandedChange=new B;id=_(be).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let t=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,t)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=u(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",oe],disabled:[2,"disabled","disabled",oe]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Fe([{provide:Zt,useValue:void 0}])]})}return i})(),hi=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ie({type:i});static \u0275inj=ke({})}return i})();var Ei=["body"],Ii=["bodyWrapper"],Fi=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Di=["mat-expansion-panel-header","*","mat-action-row"];function Ai(i,n){}var zi=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Ri=["mat-panel-title","mat-panel-description","*"];function Ni(i,n){i&1&&(ge(0,"span",1),cn(),ge(1,"svg",2),it(2,"path",3),ve()())}var Xt=new Te("MAT_ACCORDION"),ui=new Te("MAT_EXPANSION_PANEL"),Bi=(()=>{class i{_template=_(gn);_expansionPanel=_(ui,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),_i=new Te("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),H=(()=>{class i extends gi{_viewContainerRef=_(et);_animationsDisabled=ct();_document=_(Ze);_ngZone=_(tt);_elementRef=_(je);_renderer=_(Xe);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new B;afterCollapse=new B;_inputChanges=new He;accordion=_(Xt,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=_(be).getId("mat-expansion-panel-header-");constructor(){super();let e=_(_i,{optional:!0});this._expansionDispatcher=_(dt),e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe($t(null),Ve(()=>this.expanded&&!this._portal),rn(1)).subscribe(()=>{this._portal=new Dn(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}_transitionEndListener=({target:e,propertyName:t})=>{e===this._bodyWrapper?.nativeElement&&t==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let e=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this._transitionEndListener),e.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=O({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,c){if(t&1&&Qt(c,Bi,5),t&2){let h;ne(h=ie())&&(r._lazyContent=h.first)}},viewQuery:function(t,r){if(t&1&&(me(Ei,5),me(Ii,5)),t&2){let c;ne(c=ie())&&(r._body=c.first),ne(c=ie())&&(r._bodyWrapper=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(t,r){t&2&&x("mat-expanded",r.expanded)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",oe],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Fe([{provide:Xt,useValue:void 0},{provide:ui,useExisting:i}]),Gt,Ee],ngContentSelectors:Di,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){t&1&&(Wt(Fi),Me(0),o(1,"div",2,0)(3,"div",3,1)(5,"div",4),Me(6,1),R(7,Ai,0,0,"ng-template",5),a(),Me(8,2),a()()),t&2&&(l(),nt("inert",r.expanded?null:""),l(2),g("id",r.id),nt("aria-labelledby",r._headerId),l(4),g("cdkPortalOutlet",r._portal))},dependencies:[An],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return i})();var V=(()=>{class i{panel=_(H,{host:!0});_element=_(je);_focusMonitor=_(yn);_changeDetectorRef=_(ot);_parentChangeSubscription=Ye.EMPTY;constructor(){_(lt).load(Fn);let e=this.panel,t=_(_i,{optional:!0}),r=_(new vn("tabindex"),{optional:!0}),c=e.accordion?e.accordion._stateChanges.pipe(Ve(h=>!!(h.hideToggle||h.togglePosition))):on;this.tabIndex=parseInt(r||"")||0,this._parentChangeSubscription=sn(e.opened,e.closed,c,e._inputChanges.pipe(Ve(h=>!!(h.hideToggle||h.disabled||h.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Ve(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),t&&(this.expandedHeight=t.expandedHeight,this.collapsedHeight=t.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Tn(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,t){e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=O({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(t,r){t&1&&p("click",function(){return r._toggle()})("keydown",function(h){return r._keydown(h)}),t&2&&(nt("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),fn("height",r._getHeaderHeight()),x("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Mn(e)]},ngContentSelectors:Ri,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(t,r){t&1&&(Wt(zi),ge(0,"span",0),Me(1),Me(2,1),Me(3,2),ve(),f(4,Ni,3,0,"span",1)),t&2&&(x("mat-content-hide-toggle",!r._showToggle()),l(4),C(r._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return i})(),wt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return i})(),Q=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=ae({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),St=(()=>{class i extends pi{_keyManager;_ownHeaders=new mn;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe($t(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new En(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=dn(i)))(r||i)}})();static \u0275dir=ae({type:i,selectors:[["mat-accordion"]],contentQueries:function(t,r,c){if(t&1&&Qt(c,V,5),t&2){let h;ne(h=ie())&&(r._headers=h)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){t&2&&x("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",oe],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Fe([{provide:Xt,useExisting:i}]),Gt]})}return i})(),q=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Ie({type:i});static \u0275inj=ke({imports:[Ge,hi,zn]})}return i})();function Li(i,n){i&1&&(o(0,"button",9)(1,"mat-icon"),s(2,"check_circle"),a(),s(3," Written Successfully "),a())}function Hi(i,n){if(i&1&&(o(0,"mat-expansion-panel",10)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s(3,"File Content"),a()(),o(4,"pre",11),s(5),a()()),i&2){let e=d();g("expanded",e.showContent()),l(5),m(e.fileContent)}}var we=class i{toolCall;toolName="write_file";showContent=u(!1);get filePath(){return this.toolCall.arguments?.path||this.toolCall.arguments?.file_path||this.toolCall.parameters?.path||this.toolCall.parameters?.file_path||"Unknown file"}get fileContent(){return this.toolCall.arguments?.content||this.toolCall.parameters?.content||this.toolCall.streamContent||""}get result(){return this.toolCall.result}canRender(n){return n.name==="write_file"||n.name==="create_file"||n.name==="update_file"}toggleContent(){this.showContent.update(n=>!n)}handleStream(n){this.toolCall.streamContent||(this.toolCall.streamContent=""),this.toolCall.streamContent+=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-write-file"]],inputs:{toolCall:"toolCall"},decls:15,vars:5,consts:[[1,"write-file-tool"],[1,"tool-header"],[1,"tool-icon"],[1,"tool-name"],[1,"file-path"],[1,"tool-actions"],["mat-button","",3,"click"],["mat-button","",4,"ngIf"],[3,"expanded",4,"ngIf"],["mat-button",""],[3,"expanded"],[1,"file-content"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-icon",2),s(3,"edit_note"),a(),o(4,"span",3),s(5,"Write File"),a(),o(6,"span",4),s(7),a()(),o(8,"div",5)(9,"button",6),p("click",function(){return t.toggleContent()}),o(10,"mat-icon"),s(11),a(),s(12),a(),R(13,Li,4,0,"button",7),a(),R(14,Hi,6,2,"mat-expansion-panel",8),a()),e&2&&(l(7),m(t.filePath),l(4),m(t.showContent()?"visibility_off":"visibility"),l(),y(" ",t.showContent()?"Hide":"View"," Content "),l(),g("ngIf",t.result),l(),g("ngIf",t.showContent()))},dependencies:[E,ce,I,F,D,Ce,q,H,V,Q],styles:[".write-file-tool[_ngcontent-%COMP%]{padding:12px;background:var(--surface-variant);border-radius:8px;margin:8px 0}.tool-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.tool-icon[_ngcontent-%COMP%]{color:var(--primary);font-size:20px;width:20px;height:20px}.tool-name[_ngcontent-%COMP%]{font-weight:500}.file-path[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9em;color:var(--on-surface-variant);background:var(--surface);padding:2px 8px;border-radius:4px}.tool-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.file-content[_ngcontent-%COMP%]{background:var(--surface);padding:16px;border-radius:4px;overflow-x:auto;max-height:400px;overflow-y:auto;font-family:Roboto Mono,monospace;font-size:.85em;line-height:1.5;margin:0}mat-expansion-panel[_ngcontent-%COMP%]{margin-top:12px;background:transparent!important;box-shadow:none!important}"]})};function Vi(i,n){if(i&1&&(o(0,"div",8)(1,"span",9),s(2),a()()),i&2){let e=d();l(2),m(e.lineInfo)}}var Se=class i{toolCall;toolName="read_file";expanded=u(!0);get filePath(){return this.toolCall.arguments?.path||this.toolCall.arguments?.file_path||this.toolCall.parameters?.path||this.toolCall.parameters?.file_path||"Unknown file"}get fileContent(){return this.toolCall.result?.content?this.toolCall.result.content:typeof this.toolCall.result=="string"?this.toolCall.result:this.toolCall.streamContent||"Loading..."}get lineInfo(){let n=this.toolCall.arguments?.start_line||this.toolCall.parameters?.start_line,e=this.toolCall.arguments?.end_line||this.toolCall.parameters?.end_line;return n&&e?`Lines ${n}-${e}`:n?`From line ${n}`:""}canRender(n){return n.name==="read_file"||n.name==="view_file"||n.name==="get_file_content"}handleStream(n){this.toolCall.streamContent||(this.toolCall.streamContent=""),this.toolCall.streamContent+=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-read-file"]],inputs:{toolCall:"toolCall"},decls:17,vars:4,consts:[[1,"read-file-tool"],[1,"tool-header"],[1,"tool-icon"],[1,"tool-name"],[1,"file-path"],["class","tool-info",4,"ngIf"],[3,"expanded"],[1,"file-content"],[1,"tool-info"],[1,"line-info"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-icon",2),s(3,"description"),a(),o(4,"span",3),s(5,"Read File"),a(),o(6,"span",4),s(7),a()(),R(8,Vi,3,1,"div",5),o(9,"mat-expansion-panel",6)(10,"mat-expansion-panel-header")(11,"mat-panel-title")(12,"mat-icon"),s(13,"code"),a(),s(14," File Content "),a()(),o(15,"pre",7),s(16),a()()()),e&2&&(l(7),m(t.filePath),l(),g("ngIf",t.lineInfo),l(),g("expanded",t.expanded()),l(7),m(t.fileContent))},dependencies:[E,ce,I,F,D,q,H,V,Q],styles:[".read-file-tool[_ngcontent-%COMP%]{padding:12px;background:var(--surface-variant);border-radius:8px;margin:8px 0}.tool-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.tool-icon[_ngcontent-%COMP%]{color:var(--primary);font-size:20px;width:20px;height:20px}.tool-name[_ngcontent-%COMP%]{font-weight:500}.file-path[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.9em;color:var(--on-surface-variant);background:var(--surface);padding:2px 8px;border-radius:4px}.tool-info[_ngcontent-%COMP%]{margin:8px 0;font-size:.9em;color:var(--on-surface-variant)}.line-info[_ngcontent-%COMP%]{background:var(--surface);padding:2px 8px;border-radius:4px}.file-content[_ngcontent-%COMP%]{background:var(--surface);padding:16px;border-radius:4px;overflow-x:auto;max-height:400px;overflow-y:auto;font-family:Roboto Mono,monospace;font-size:.85em;line-height:1.5;margin:0}mat-expansion-panel[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important}"]})};function $i(i,n){if(i&1&&(o(0,"span",11),s(1),a()),i&2){let e=d(2);l(),y(" (exit code: ",e.exitCode,") ")}}function ji(i,n){if(i&1&&(o(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4),a(),s(5," Output "),R(6,$i,2,1,"span",9),a()(),o(7,"pre",10),s(8),a()()),i&2){let e=d();g("expanded",e.hasOutput),l(4),m(e.exitCode===0?"check_circle":"error"),l(2),g("ngIf",e.exitCode!==null),l(2),m(e.output)}}var Pe=class i{toolCall;toolName="execute_command";get command(){return this.toolCall.arguments?.command||this.toolCall.parameters?.command||""}get output(){if(this.toolCall.result?.output)return this.toolCall.result.output;if(this.toolCall.result?.stdout){let n=this.toolCall.result.stdout;return this.toolCall.result.stderr&&(n+=`
`+this.toolCall.result.stderr),n}return typeof this.toolCall.result=="string"?this.toolCall.result:this.toolCall.streamContent||""}get exitCode(){return this.toolCall.result?.exit_code!==void 0?this.toolCall.result.exit_code:this.toolCall.result?.exitCode!==void 0?this.toolCall.result.exitCode:null}get hasOutput(){return this.output.length>0}canRender(n){return n.name==="execute_command"||n.name==="run_command"||n.name==="shell_execute"||n.name==="bash"}handleStream(n){this.toolCall.streamContent||(this.toolCall.streamContent=""),this.toolCall.streamContent+=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-execute-command"]],inputs:{toolCall:"toolCall"},decls:12,vars:2,consts:[[1,"execute-command-tool"],[1,"tool-header"],[1,"tool-icon"],[1,"tool-name"],[1,"command-line"],[1,"prompt"],[1,"command"],[3,"expanded",4,"ngIf"],[3,"expanded"],["class","exit-code",4,"ngIf"],[1,"command-output"],[1,"exit-code"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-icon",2),s(3,"terminal"),a(),o(4,"span",3),s(5,"Execute Command"),a()(),o(6,"div",4)(7,"span",5),s(8,"$"),a(),o(9,"code",6),s(10),a()(),R(11,ji,9,4,"mat-expansion-panel",7),a()),e&2&&(l(10),m(t.command),l(),g("ngIf",t.hasOutput))},dependencies:[E,ce,I,F,q,H,V,Q],styles:[".execute-command-tool[_ngcontent-%COMP%]{padding:12px;background:var(--surface-variant);border-radius:8px;margin:8px 0}.tool-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px}.tool-icon[_ngcontent-%COMP%]{color:var(--primary);font-size:20px;width:20px;height:20px}.tool-name[_ngcontent-%COMP%]{font-weight:500}.command-line[_ngcontent-%COMP%]{background:#1e1e1e;color:#d4d4d4;padding:12px;border-radius:4px;font-family:Roboto Mono,monospace;display:flex;align-items:center;gap:8px;margin-bottom:8px}.prompt[_ngcontent-%COMP%]{color:#4ec9b0;font-weight:700}.command[_ngcontent-%COMP%]{flex:1;word-break:break-all}.command-output[_ngcontent-%COMP%]{background:#1e1e1e;color:#d4d4d4;padding:16px;border-radius:4px;overflow-x:auto;max-height:400px;overflow-y:auto;font-family:Roboto Mono,monospace;font-size:.85em;line-height:1.5;margin:0;white-space:pre-wrap}.exit-code[_ngcontent-%COMP%]{font-size:.9em;color:var(--on-surface-variant);margin-left:8px}mat-expansion-panel[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;margin-top:8px}"]})};function Gi(i,n){if(i&1&&(o(0,"div",8)(1,"span",9),s(2),a(),o(3,"span",10),s(4),a()()),i&2){let e=n.$implicit;l(2),y("",e.key,":"),l(2),m(e.value)}}function Ui(i,n){if(i&1&&(o(0,"mat-expansion-panel",4)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s(3,"Result"),a()(),o(4,"pre",11),s(5),a()()),i&2){let e=d();g("expanded",!1),l(5),m(e.formatResult())}}var kt=class i{toolCall;toolName="generic";get parameters(){let n=this.toolCall.arguments||this.toolCall.parameters||{};return Object.entries(n).map(([e,t])=>({key:e,value:this.formatValue(t)}))}formatValue(n){return n==null?"null":typeof n=="object"?Array.isArray(n)?`[${n.length} items]`:JSON.stringify(n,null,2):String(n)}formatResult(){return this.toolCall.result?typeof this.toolCall.result=="string"?this.toolCall.result:JSON.stringify(this.toolCall.result,null,2):""}canRender(n){return!0}handleStream(n){this.toolCall.streamContent||(this.toolCall.streamContent=""),this.toolCall.streamContent+=n}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-generic-tool"]],inputs:{toolCall:"toolCall"},decls:13,vars:4,consts:[[1,"generic-tool"],[1,"tool-header"],[1,"tool-icon"],[1,"tool-name"],[3,"expanded"],[1,"parameters"],["class","parameter",4,"ngFor","ngForOf"],[3,"expanded",4,"ngIf"],[1,"parameter"],[1,"param-key"],[1,"param-value"],[1,"result"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"mat-icon",2),s(3,"build"),a(),o(4,"span",3),s(5),a()(),o(6,"mat-expansion-panel",4)(7,"mat-expansion-panel-header")(8,"mat-panel-title"),s(9,"Parameters"),a()(),o(10,"div",5),R(11,Gi,5,2,"div",6),a()(),R(12,Ui,6,2,"mat-expansion-panel",7),a()),e&2&&(l(5),m(t.toolCall.name),l(),g("expanded",!1),l(5),g("ngForOf",t.parameters),l(),g("ngIf",t.toolCall.result))},dependencies:[E,bn,ce,I,F,q,H,V,Q],styles:[".generic-tool[_ngcontent-%COMP%]{padding:12px;background:var(--surface-variant);border-radius:8px;margin:8px 0}.tool-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.tool-icon[_ngcontent-%COMP%]{color:var(--primary);font-size:20px;width:20px;height:20px}.tool-name[_ngcontent-%COMP%]{font-weight:500;font-family:Roboto Mono,monospace}.parameters[_ngcontent-%COMP%]{padding:12px}.parameter[_ngcontent-%COMP%]{display:flex;gap:8px;margin:4px 0;font-size:.9em}.param-key[_ngcontent-%COMP%]{font-weight:500;color:var(--primary)}.param-value[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;color:var(--on-surface-variant)}.result[_ngcontent-%COMP%]{background:var(--surface);padding:12px;border-radius:4px;overflow-x:auto;font-family:Roboto Mono,monospace;font-size:.85em;margin:0}mat-expansion-panel[_ngcontent-%COMP%]{background:transparent!important;box-shadow:none!important;margin-top:8px}"]})};var Wi=["dynamicRenderer"],Tt=class i{toolCall;dynamicRenderer;componentRef;toolRenderers=new Map([["respond_to_user",qe],["write_file",we],["create_file",we],["update_file",we],["read_file",Se],["view_file",Se],["get_file_content",Se],["execute_command",Pe],["run_command",Pe],["shell_execute",Pe],["bash",Pe]]);ngOnInit(){this.loadRenderer()}ngOnChanges(){this.componentRef&&(this.componentRef.instance.toolCall=this.toolCall,this.toolCall.isStreaming&&this.componentRef.instance.handleStream&&this.componentRef.instance.handleStream(this.toolCall.streamContent||""))}loadRenderer(){this.dynamicRenderer.clear();let n=this.getRendererForTool(this.toolCall.name);this.componentRef=this.dynamicRenderer.createComponent(n),this.componentRef.instance.toolCall=this.toolCall}getRendererForTool(n){if(this.toolRenderers.has(n))return this.toolRenderers.get(n);let e=n.toLowerCase();return e.includes("write")||e.includes("create")||e.includes("save")?we:e.includes("read")||e.includes("view")||e.includes("get")?Se:e.includes("execute")||e.includes("run")||e.includes("command")?Pe:e.includes("respond")||e.includes("message")||e.includes("say")?qe:kt}handleStreamUpdate(n){this.componentRef&&this.componentRef.instance.handleStream&&this.componentRef.instance.handleStream(n)}onStreamComplete(){this.componentRef&&this.componentRef.instance.onStreamComplete&&this.componentRef.instance.onStreamComplete()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-tool-renderer"]],viewQuery:function(e,t){if(e&1&&me(Wi,7,et),e&2){let r;ne(r=ie())&&(t.dynamicRenderer=r.first)}},inputs:{toolCall:"toolCall"},features:[Ee],decls:3,vars:0,consts:[["dynamicRenderer",""],[1,"tool-renderer"]],template:function(e,t){e&1&&(ge(0,"div",1),hn(1,null,0),ve())},dependencies:[E],styles:[".tool-renderer[_ngcontent-%COMP%]{width:100%}"]})};var Le=class i{streamBuffers=new Map;parseMessage(n){let e=[];try{let t=JSON.parse(n);return Array.isArray(t)?e.push(...t.map(this.normalizeToolCall)):(t.name||t.tool_name)&&e.push(this.normalizeToolCall(t)),{toolCalls:e,isComplete:!0,rawContent:n}}catch{let r=/\{"(?:name|tool_name)":\s*"([^"]+)"/;return n.match(r)?{toolCalls:[],isComplete:!1,rawContent:n}:(n.trim().length>0&&e.push({name:"respond_to_user",arguments:{message:n}}),{toolCalls:e,isComplete:!0,rawContent:n})}}handleStreamChunk(n,e){let t=this.streamBuffers.get(n)||"";t+=e,this.streamBuffers.set(n,t);let r=[],c=t,h=/(\{[^{}]*\{[^{}]*\}[^{}]*\}|\{[^{}]*\})/g,N,te=0;for(;(N=h.exec(t))!==null;)try{let tn=N[0],Vt=JSON.parse(tn);(Vt.name||Vt.tool_name)&&(r.push(this.normalizeToolCall(Vt)),te=N.index+N[0].length)}catch{}te>0&&(c=t.substring(te),this.streamBuffers.set(n,c));let vi=this.isMessageComplete(c);return{toolCalls:r,isComplete:vi,rawContent:t}}clearStreamBuffer(n){this.streamBuffers.delete(n)}normalizeToolCall(n){return{id:n.id||crypto.randomUUID(),name:n.name||n.tool_name||"unknown",arguments:n.arguments||n.parameters||n.args||{},parameters:n.parameters||n.arguments||n.args||{},result:n.result,isStreaming:n.isStreaming||!1}}isMessageComplete(n){if(n.trim().endsWith("}"))try{return JSON.parse(n),!0}catch{return!1}return!!(n.includes("[DONE]")||n.includes("data: [DONE]"))}extractToolCalls(n){let e=[];if(n.tool_calls&&Array.isArray(n.tool_calls))e.push(...n.tool_calls.map(this.normalizeToolCall));else if(n.toolCalls&&Array.isArray(n.toolCalls))e.push(...n.toolCalls.map(this.normalizeToolCall));else if(n.tool_call)e.push(this.normalizeToolCall(n.tool_call));else if(n.name||n.tool_name)e.push(this.normalizeToolCall(n));else if(n.content&&typeof n.content=="string")try{let t=JSON.parse(n.content);t.name||t.tool_name?e.push(this.normalizeToolCall(t)):Array.isArray(t)&&e.push(...t.map(this.normalizeToolCall))}catch{e.push({name:"respond_to_user",arguments:{message:n.content}})}return e}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"root"})};function Qi(i,n){i&1&&(o(0,"span"),s(1,"You"),a())}function qi(i,n){if(i&1&&(o(0,"span",9),s(1),a()),i&2){let e=d(2);l(),z(" (",(e.message.metadata==null?null:e.message.metadata.provider)||"","",e.message.metadata!=null&&e.message.metadata.model?" - "+e.message.metadata.model:"",") ")}}function Ki(i,n){if(i&1&&(o(0,"span"),s(1,"AI Assistant"),a(),f(2,qi,2,2,"span",9)),i&2){let e=d();l(2),C(e.message.metadata!=null&&e.message.metadata.provider||e.message.metadata!=null&&e.message.metadata.model?2:-1)}}function Yi(i,n){if(i&1&&k(0,"app-tool-renderer",10),i&2){let e=n.$implicit;g("toolCall",e)}}function Ji(i,n){if(i&1&&(o(0,"div",6),w(1,Yi,1,1,"app-tool-renderer",10,Ut),a()),i&2){let e=d();l(),S(e.message.toolCalls)}}function Zi(i,n){if(i&1&&k(0,"app-tool-renderer",10),i&2){let e=n.$implicit;g("toolCall",e)}}function Xi(i,n){if(i&1&&(o(0,"div",6),w(1,Zi,1,1,"app-tool-renderer",10,Ut),a()),i&2){let e=d();l(),S(e.getParsedToolCalls())}}function eo(i,n){if(i&1&&(o(0,"div",7),s(1),a()),i&2){let e=d();l(),m(e.message.content)}}function to(i,n){if(i&1&&(o(0,"div",8),s(1),Cn(2,"date"),a()),i&2){let e=d();l(),m(xn(2,1,e.message.timestamp,"short"))}}var Et=class i{message;toolParser=_(Le);getIcon(){return this.message.role==="user"?"person":"assistant"}getParsedToolCalls(){return this.message.toolCalls&&this.message.toolCalls.length>0?this.message.toolCalls:this.message.content&&this.message.role==="assistant"?this.toolParser.parseMessage(this.message.content).toolCalls:[]}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-message"]],inputs:{message:"message"},decls:13,vars:8,consts:[[1,"message"],[1,"message-bubble"],[1,"message-header"],[1,"message-avatar"],[1,"message-label"],[1,"message-content"],[1,"tool-calls-section"],[1,"text-content"],[1,"message-timestamp"],[1,"provider-info"],[3,"toolCall"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),s(4),a(),o(5,"span",4),f(6,Qi,2,0,"span")(7,Ki,3,1),a()(),o(8,"div",5),f(9,Ji,3,0,"div",6)(10,Xi,3,0,"div",6)(11,eo,2,1,"div",7),a()(),f(12,to,3,4,"div",8),a()),e&2&&(x("user",t.message.role==="user")("assistant",t.message.role==="assistant"),l(4),m(t.getIcon()),l(2),C(t.message.role==="user"?6:7),l(3),C(t.message.toolCalls&&t.message.toolCalls.length>0?9:t.message.content&&t.message.role==="assistant"?10:t.message.content&&t.message.role==="user"?11:-1),l(3),C(t.message.timestamp?12:-1))},dependencies:[E,I,F,Tt,On],styles:[".message[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.message.user[_ngcontent-%COMP%]{align-items:flex-end}.message.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.message.assistant[_ngcontent-%COMP%]{align-items:flex-start}.message.assistant[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--app-surface);border:1px solid var(--app-divider)}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{max-width:70%;padding:12px 16px;border-radius:16px;display:flex;flex-direction:column;gap:8px}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;flex-shrink:0}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--app-text-secondary)}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-label[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]{font-weight:400;opacity:.8;font-size:11px}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .tool-calls-section[_ngcontent-%COMP%]{margin-bottom:8px}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{white-space:pre-wrap}.message[_ngcontent-%COMP%]   .message-timestamp[_ngcontent-%COMP%]{font-size:11px;color:var(--app-text-disabled);margin-top:4px;padding:0 16px}"]})};var no=["messagesContainer"],io=(i,n)=>n.id;function oo(i,n){i&1&&(o(0,"div",2)(1,"mat-icon",6),s(2,"assistant"),a(),o(3,"h2"),s(4,"Welcome to CodeAgent"),a(),o(5,"p"),s(6,"How can I help you today?"),a()())}function ao(i,n){if(i&1&&k(0,"app-message",4),i&2){let e=n.$implicit;g("message",e)}}function so(i,n){i&1&&(o(0,"div",5)(1,"div",7)(2,"mat-icon",8),s(3,"assistant"),a(),o(4,"div",9),k(5,"span")(6,"span")(7,"span"),a()()())}var It=class i{messages=[];isLoading=!1;showWelcome=!0;messagesContainer;ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){if(this.messagesContainer)try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch{}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-messages-list"]],viewQuery:function(e,t){if(e&1&&me(no,5),e&2){let r;ne(r=ie())&&(t.messagesContainer=r.first)}},inputs:{messages:"messages",isLoading:"isLoading",showWelcome:"showWelcome"},decls:7,vars:2,consts:[["messagesContainer",""],[1,"messages-container"],[1,"welcome-message"],[1,"messages-list"],[3,"message"],[1,"message","assistant"],[1,"welcome-icon"],[1,"message-bubble"],[1,"message-avatar"],[1,"typing-indicator"]],template:function(e,t){e&1&&(o(0,"div",1,0),f(2,oo,7,0,"div",2),o(3,"div",3),w(4,ao,1,1,"app-message",4,io),f(6,so,8,0,"div",5),a()()),e&2&&(l(2),C(t.showWelcome&&t.messages.length===0?2:-1),l(2),S(t.messages),l(2),C(t.isLoading?6:-1))},dependencies:[E,Et,ze,I,F],styles:[".messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px}.messages-container[_ngcontent-%COMP%]   .welcome-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--mat-secondary-text)}.messages-container[_ngcontent-%COMP%]   .welcome-message[_ngcontent-%COMP%]   .welcome-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;opacity:.5}.messages-container[_ngcontent-%COMP%]   .welcome-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:400}.messages-container[_ngcontent-%COMP%]   .welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.messages-container[_ngcontent-%COMP%]   .messages-list[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column}.messages-container[_ngcontent-%COMP%]   .messages-list[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.messages-container[_ngcontent-%COMP%]   .messages-list[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:8px;height:8px;background-color:var(--mat-secondary-text);border-radius:50%;animation:_ngcontent-%COMP%_typing 1.4s infinite}.messages-container[_ngcontent-%COMP%]   .messages-list[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.messages-container[_ngcontent-%COMP%]   .messages-list[_ngcontent-%COMP%]   .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:translateY(0);opacity:.5}30%{transform:translateY(-10px);opacity:1}}"]})};var Ft=class i{disabled=!1;placeholder="Type your message... (Enter to send, Shift+Enter for new line)";messageSent=new B;inputMessage="";handleKeyDown(n){n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),this.sendMessage())}sendMessage(){this.inputMessage.trim()&&!this.disabled&&(this.messageSent.emit(this.inputMessage),this.inputMessage="")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-chat-input"]],inputs:{disabled:"disabled",placeholder:"placeholder"},outputs:{messageSent:"messageSent"},decls:7,vars:4,consts:[[1,"input-container"],[1,"input-wrapper"],["rows","1",1,"message-input",3,"ngModelChange","keydown","ngModel","placeholder","disabled"],["mat-icon-button","",1,"send-button",3,"click","disabled"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"textarea",2),le("ngModelChange",function(c){return re(t.inputMessage,c)||(t.inputMessage=c),c}),p("keydown",function(c){return t.handleKeyDown(c)}),s(3,"    "),a(),o(4,"button",3),p("click",function(){return t.sendMessage()}),o(5,"mat-icon"),s(6,"send"),a()()()()),e&2&&(l(2),se("ngModel",t.inputMessage),g("placeholder",t.placeholder)("disabled",t.disabled),l(2),g("disabled",!t.inputMessage.trim()||t.disabled))},dependencies:[E,j,he,ue,_e,I,F,D,G],styles:[".input-container[_ngcontent-%COMP%]{padding:16px;background-color:var(--mat-surface);border-top:1px solid var(--mat-divider)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:8px}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:12px;border:1px solid var(--mat-divider);border-radius:24px;resize:none;font-family:inherit;font-size:14px;line-height:1.5;min-height:48px;max-height:150px;overflow-y:auto}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--mat-primary)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{background-color:var(--mat-disabled-background);cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{margin-bottom:4px}"]})};var At=(i,n)=>n.id;function lo(i,n){if(i&1){let e=T();o(0,"div",16)(1,"mat-checkbox",17),p("change",function(){let r=P(e).$implicit,c=d(2);return v(c.togglePermission(r))}),o(2,"div",18)(3,"mat-icon",19),s(4),a(),o(5,"span",20),s(6),a(),o(7,"mat-icon",21),s(8),a()()()()}if(i&2){let e=n.$implicit,t=d(2);x("granted",e.granted),l(),g("checked",e.granted),l(3),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip",e.description),l(),y(" ",t.getRiskIcon(e.riskLevel)," ")}}function co(i,n){if(i&1&&(o(0,"mat-expansion-panel",6)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4,"folder"),a(),s(5," File Operations "),a()(),o(6,"div",14),w(7,lo,9,8,"div",15,At),a()()),i&2){let e=d();l(7),S(e.filePermissions())}}function mo(i,n){if(i&1){let e=T();o(0,"div",16)(1,"mat-checkbox",17),p("change",function(){let r=P(e).$implicit,c=d(2);return v(c.togglePermission(r))}),o(2,"div",18)(3,"mat-icon",19),s(4),a(),o(5,"span",20),s(6),a(),o(7,"mat-icon",21),s(8),a()()()()}if(i&2){let e=n.$implicit,t=d(2);x("granted",e.granted),l(),g("checked",e.granted),l(3),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip",e.description),l(),y(" ",t.getRiskIcon(e.riskLevel)," ")}}function po(i,n){if(i&1&&(o(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4,"source"),a(),s(5," Git Operations "),a()(),o(6,"div",14),w(7,mo,9,8,"div",15,At),a()()),i&2){let e=d();l(7),S(e.gitPermissions())}}function go(i,n){if(i&1){let e=T();o(0,"div",16)(1,"mat-checkbox",17),p("change",function(){let r=P(e).$implicit,c=d(2);return v(c.togglePermission(r))}),o(2,"div",18)(3,"mat-icon",19),s(4),a(),o(5,"span",20),s(6),a(),o(7,"mat-icon",21),s(8),a()()()()}if(i&2){let e=n.$implicit,t=d(2);x("granted",e.granted),l(),g("checked",e.granted),l(3),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip",e.description),l(),y(" ",t.getRiskIcon(e.riskLevel)," ")}}function ho(i,n){if(i&1&&(o(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4,"computer"),a(),s(5," System Commands "),a()(),o(6,"div",14),w(7,go,9,8,"div",15,At),a()()),i&2){let e=d();l(7),S(e.systemPermissions())}}function uo(i,n){if(i&1){let e=T();o(0,"div",16)(1,"mat-checkbox",17),p("change",function(){let r=P(e).$implicit,c=d(2);return v(c.togglePermission(r))}),o(2,"div",18)(3,"mat-icon",19),s(4),a(),o(5,"span",20),s(6),a(),o(7,"mat-icon",21),s(8),a()()()()}if(i&2){let e=n.$implicit,t=d(2);x("granted",e.granted),l(),g("checked",e.granted),l(3),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip",e.description),l(),y(" ",t.getRiskIcon(e.riskLevel)," ")}}function _o(i,n){if(i&1&&(o(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4,"build"),a(),s(5," Tools & Extensions "),a()(),o(6,"div",14),w(7,uo,9,8,"div",15,At),a()()),i&2){let e=d();l(7),S(e.toolPermissions())}}function fo(i,n){if(i&1){let e=T();o(0,"mat-chip-row",22),p("removed",function(){let r=P(e).$implicit,c=d(2);return v(c.removePermittedPath(r))}),s(1),o(2,"button",23)(3,"mat-icon"),s(4,"cancel"),a()()()}if(i&2){let e=n.$implicit;l(),y(" ",e," ")}}function Co(i,n){if(i&1&&(o(0,"mat-chip-set",12),w(1,fo,5,1,"mat-chip-row",null,K),a()),i&2){let e=d();l(),S(e.sessionPaths().permitted)}}function xo(i,n){if(i&1){let e=T();o(0,"mat-chip-row",25),p("removed",function(){let r=P(e).$implicit,c=d(2);return v(c.removeBlockedPath(r))}),s(1),o(2,"button",23)(3,"mat-icon"),s(4,"cancel"),a()()()}if(i&2){let e=n.$implicit;l(),y(" ",e," ")}}function Po(i,n){if(i&1&&(o(0,"mat-chip-set",12),w(1,xo,5,1,"mat-chip-row",24,K),a()),i&2){let e=d();l(),S(e.sessionPaths().blocked)}}var Dt=class i{set permissions(n){this._permissions.set(n),this.groupPermissions()}set paths(n){this.sessionPaths.set(n)}permissionsChanged=new B;pathsChanged=new B;_permissions=u([]);sessionPaths=u({permitted:[],blocked:[]});newPermittedPath="";newBlockedPath="";filePermissions=u([]);systemPermissions=u([]);gitPermissions=u([]);toolPermissions=u([]);constructor(){this._permissions().length===0&&this.initializeDefaultPermissions()}initializeDefaultPermissions(){let n=[{id:"file-read",name:"Read Files",description:"Allow reading files in permitted directories",granted:!1,icon:"visibility",category:"file",riskLevel:"low"},{id:"file-write",name:"Write Files",description:"Allow creating and modifying files",granted:!1,icon:"edit",category:"file",riskLevel:"medium"},{id:"file-delete",name:"Delete Files",description:"Allow deleting files and directories",granted:!1,icon:"delete",category:"file",riskLevel:"high"},{id:"git-read",name:"Git Status",description:"View git status and history",granted:!1,icon:"info",category:"git",riskLevel:"low"},{id:"git-commit",name:"Git Commit",description:"Create git commits",granted:!1,icon:"check_circle",category:"git",riskLevel:"medium"},{id:"system-info",name:"System Info",description:"Read system information",granted:!1,icon:"computer",category:"system",riskLevel:"low"},{id:"system-execute",name:"Execute Commands",description:"Run system commands",granted:!1,icon:"terminal",category:"system",riskLevel:"high"},{id:"tool-search",name:"Search Tools",description:"Use search and grep tools",granted:!1,icon:"search",category:"tool",riskLevel:"low"}];this._permissions.set(n),this.groupPermissions()}groupPermissions(){let n=this._permissions();this.filePermissions.set(n.filter(e=>e.category==="file")),this.systemPermissions.set(n.filter(e=>e.category==="system")),this.gitPermissions.set(n.filter(e=>e.category==="git")),this.toolPermissions.set(n.filter(e=>e.category==="tool"))}togglePermission(n){let e=this._permissions().map(t=>t.id===n.id?b(M({},t),{granted:!t.granted}):t);this._permissions.set(e),this.groupPermissions(),this.permissionsChanged.emit(e)}toggleAll(n){let e=this._permissions().map(t=>b(M({},t),{granted:n}));this._permissions.set(e),this.groupPermissions(),this.permissionsChanged.emit(e)}toggleCategory(n,e){let t=this._permissions().map(r=>r.category===n?b(M({},r),{granted:e}):r);this._permissions.set(t),this.groupPermissions(),this.permissionsChanged.emit(t)}addPermittedPath(){if(!this.newPermittedPath.trim())return;let n=b(M({},this.sessionPaths()),{permitted:[...this.sessionPaths().permitted,this.newPermittedPath.trim()]});this.sessionPaths.set(n),this.pathsChanged.emit(n),this.newPermittedPath=""}removePermittedPath(n){let e=b(M({},this.sessionPaths()),{permitted:this.sessionPaths().permitted.filter(t=>t!==n)});this.sessionPaths.set(e),this.pathsChanged.emit(e)}addBlockedPath(){if(!this.newBlockedPath.trim())return;let n=b(M({},this.sessionPaths()),{blocked:[...this.sessionPaths().blocked,this.newBlockedPath.trim()]});this.sessionPaths.set(n),this.pathsChanged.emit(n),this.newBlockedPath=""}removeBlockedPath(n){let e=b(M({},this.sessionPaths()),{blocked:this.sessionPaths().blocked.filter(t=>t!==n)});this.sessionPaths.set(e),this.pathsChanged.emit(e)}getRiskColor(n){switch(n){case"low":return"primary";case"medium":return"accent";case"high":return"warn";default:return""}}getRiskIcon(n){switch(n){case"low":return"check_circle";case"medium":return"warning";case"high":return"error";default:return"help"}}getGrantedCount(n){return n.filter(e=>e.granted).length}getAllPermissions(){return this._permissions()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-session-permissions-panel"]],inputs:{permissions:"permissions",paths:"paths"},outputs:{permissionsChanged:"permissionsChanged",pathsChanged:"pathsChanged"},decls:59,vars:24,consts:[[1,"permissions-panel"],[1,"panel-actions"],["mat-button","",3,"click"],[1,"quick-toggles"],[3,"click"],["multi",""],["expanded",""],[1,"path-section"],[1,"add-path-compact"],["appearance","outline",1,"compact-field"],["matInput","","placeholder","Add path...",3,"ngModelChange","keyup.enter","ngModel"],["mat-icon-button","","color","primary",3,"click"],[1,"compact-chips"],["mat-icon-button","","color","warn",3,"click"],[1,"permission-list"],[1,"permission-item","compact",3,"granted"],[1,"permission-item","compact"],[3,"change","checked"],[1,"permission-content"],[1,"permission-icon"],[1,"permission-name"],[1,"risk-icon",3,"color","matTooltip"],[3,"removed"],["matChipRemove",""],[1,"blocked-chip"],[1,"blocked-chip",3,"removed"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return t.toggleAll(!0)}),o(3,"mat-icon"),s(4,"check_box"),a(),s(5," Grant All "),a(),o(6,"button",2),p("click",function(){return t.toggleAll(!1)}),o(7,"mat-icon"),s(8,"check_box_outline_blank"),a(),s(9," Clear All "),a()(),o(10,"div",3)(11,"mat-chip-set")(12,"mat-chip",4),p("click",function(){return t.toggleCategory("file",t.getGrantedCount(t.filePermissions())!==t.filePermissions().length)}),o(13,"mat-icon"),s(14,"folder"),a(),s(15),a(),o(16,"mat-chip",4),p("click",function(){return t.toggleCategory("git",t.getGrantedCount(t.gitPermissions())!==t.gitPermissions().length)}),o(17,"mat-icon"),s(18,"source"),a(),s(19),a(),o(20,"mat-chip",4),p("click",function(){return t.toggleCategory("system",t.getGrantedCount(t.systemPermissions())!==t.systemPermissions().length)}),o(21,"mat-icon"),s(22,"computer"),a(),s(23),a(),o(24,"mat-chip",4),p("click",function(){return t.toggleCategory("tool",t.getGrantedCount(t.toolPermissions())!==t.toolPermissions().length)}),o(25,"mat-icon"),s(26,"build"),a(),s(27),a()()(),k(28,"mat-divider"),o(29,"mat-accordion",5),f(30,co,9,0,"mat-expansion-panel",6),f(31,po,9,0,"mat-expansion-panel"),f(32,ho,9,0,"mat-expansion-panel"),f(33,_o,9,0,"mat-expansion-panel"),o(34,"mat-expansion-panel")(35,"mat-expansion-panel-header")(36,"mat-panel-title")(37,"mat-icon"),s(38,"route"),a(),s(39," Path Restrictions "),a()(),o(40,"div",7)(41,"h5"),s(42,"Permitted Paths"),a(),o(43,"div",8)(44,"mat-form-field",9)(45,"input",10),le("ngModelChange",function(c){return re(t.newPermittedPath,c)||(t.newPermittedPath=c),c}),p("keyup.enter",function(){return t.addPermittedPath()}),a()(),o(46,"button",11),p("click",function(){return t.addPermittedPath()}),o(47,"mat-icon"),s(48,"add"),a()()(),f(49,Co,3,0,"mat-chip-set",12),o(50,"h5"),s(51,"Blocked Paths"),a(),o(52,"div",8)(53,"mat-form-field",9)(54,"input",10),le("ngModelChange",function(c){return re(t.newBlockedPath,c)||(t.newBlockedPath=c),c}),p("keyup.enter",function(){return t.addBlockedPath()}),a()(),o(55,"button",13),p("click",function(){return t.addBlockedPath()}),o(56,"mat-icon"),s(57,"block"),a()()(),f(58,Po,3,0,"mat-chip-set",12),a()()()()),e&2&&(l(12),x("mat-chip-selected",t.getGrantedCount(t.filePermissions())===t.filePermissions().length),l(3),z(" Files (",t.getGrantedCount(t.filePermissions()),"/",t.filePermissions().length,") "),l(),x("mat-chip-selected",t.getGrantedCount(t.gitPermissions())===t.gitPermissions().length),l(3),z(" Git (",t.getGrantedCount(t.gitPermissions()),"/",t.gitPermissions().length,") "),l(),x("mat-chip-selected",t.getGrantedCount(t.systemPermissions())===t.systemPermissions().length),l(3),z(" System (",t.getGrantedCount(t.systemPermissions()),"/",t.systemPermissions().length,") "),l(),x("mat-chip-selected",t.getGrantedCount(t.toolPermissions())===t.toolPermissions().length),l(3),z(" Tools (",t.getGrantedCount(t.toolPermissions()),"/",t.toolPermissions().length,") "),l(3),C(t.filePermissions().length>0?30:-1),l(),C(t.gitPermissions().length>0?31:-1),l(),C(t.systemPermissions().length>0?32:-1),l(),C(t.toolPermissions().length>0?33:-1),l(12),se("ngModel",t.newPermittedPath),l(4),C(t.sessionPaths().permitted.length>0?49:-1),l(5),se("ngModel",t.newBlockedPath),l(4),C(t.sessionPaths().blocked.length>0?58:-1))},dependencies:[E,j,he,ue,_e,D,Ce,G,bt,Mt,I,F,$,Z,W,de,Ct,xt,Ae,Re,De,Be,Ne,q,St,H,V,Q,U,X,fe],styles:[".permissions-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;padding:var(--spacing-md);overflow-y:auto}.panel-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.panel-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:12px}.panel-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.quick-toggles[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.quick-toggles[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px;height:28px;cursor:pointer;transition:all var(--transition-fast)}.quick-toggles[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-right:var(--spacing-xs)}.quick-toggles[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.mat-chip-selected[_ngcontent-%COMP%]{background-color:var(--app-success-light);color:var(--app-success)}mat-divider[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm);background-color:var(--app-surface)}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:40px;padding:0 var(--spacing-md)}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:13px;font-weight:500}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-text-secondary)}.permission-list[_ngcontent-%COMP%]{padding:var(--spacing-sm) 0}.permission-item[_ngcontent-%COMP%]{padding:var(--spacing-xs) var(--spacing-sm);margin-bottom:var(--spacing-xs);border-radius:var(--radius-sm);transition:background-color var(--transition-fast)}.permission-item.compact[_ngcontent-%COMP%]{padding:2px var(--spacing-sm);margin-bottom:2px}.permission-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.permission-item.granted[_ngcontent-%COMP%]{background-color:var(--app-success-light)}.permission-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{width:100%}.permission-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mdc-checkbox{padding:4px}.permission-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mat-mdc-checkbox-label{margin-left:var(--spacing-xs)}.permission-item[_ngcontent-%COMP%]   .permission-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.permission-item[_ngcontent-%COMP%]   .permission-content[_ngcontent-%COMP%]   .permission-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:var(--app-text-secondary)}.permission-item[_ngcontent-%COMP%]   .permission-content[_ngcontent-%COMP%]   .permission-name[_ngcontent-%COMP%]{flex:1;font-size:13px;color:var(--app-text-primary)}.permission-item[_ngcontent-%COMP%]   .permission-content[_ngcontent-%COMP%]   .risk-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.path-section[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.path-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:var(--spacing-md) 0 var(--spacing-sm) 0;font-size:12px;font-weight:600;color:var(--app-text-primary);text-transform:uppercase;letter-spacing:.5px}.path-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]:first-of-type{margin-top:0}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs);align-items:center;margin-bottom:var(--spacing-sm)}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]{flex:1}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0;height:40px;align-items:center}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex{height:40px;align-items:center}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:12px;min-height:auto;border-top:none;display:flex;align-items:center}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     input{font-size:13px;height:auto;line-height:1}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mdc-notched-outline .mdc-notched-outline__leading, .path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mdc-notched-outline .mdc-notched-outline__notch, .path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   .compact-field[_ngcontent-%COMP%]     .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--app-divider)}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;flex-shrink:0}.path-section[_ngcontent-%COMP%]   .add-path-compact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md)}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]{height:24px;font-size:12px;margin:2px}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]   mat-chip-row.blocked-chip[_ngcontent-%COMP%]{--mat-chip-background-color: var(--app-error-light);--mat-chip-text-color: var(--app-error)}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]   mat-chip-row.blocked-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-error)}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--mdc-icon-button-icon-size: 14px}.path-section[_ngcontent-%COMP%]   .compact-chips[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--app-text-disabled)}"]})};var zt=class i{constructor(n){this.http=n}apiUrl="http://localhost:5001/api/git";loadingState=u(!1);errorState=u(null);currentStatus=u(null);gitChanges$=new nn(null);getLoadingState(){return this.loadingState}getErrorState(){return this.errorState}getCurrentStatus(){return this.currentStatus}getGitChanges(){return this.gitChanges$.asObservable()}handleError=n=>{let e="Git operation failed";return n.error instanceof ErrorEvent?e=n.error.message:e=n.error?.error||n.message||`Git error: ${n.status}`,console.error("GitService error:",e,n),this.errorState.set(e),an(()=>new Error(e))};clearError(){this.errorState.set(null)}getStatus(n){this.clearError(),this.loadingState.set(!0);let e=n?new qt().set("path",n):void 0;return this.http.get(`${this.apiUrl}/status`,{params:e}).pipe($e(1),J(t=>{this.currentStatus.set(t),this.loadingState.set(!1)}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}stageFiles(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/stage`,{files:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"stage",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}unstageFiles(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/unstage`,{files:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"unstage",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}commit(n,e){this.clearError(),this.loadingState.set(!0);let t=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/commit`,{message:n,files:e},{headers:t}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"commit",data:n}),this.refreshStatus()}),Y(r=>(this.loadingState.set(!1),this.handleError(r))))}getHistory(n=50){this.clearError(),this.loadingState.set(!0);let e=new qt().set("limit",n.toString());return this.http.get(`${this.apiUrl}/history`,{params:e}).pipe($e(1),J(()=>this.loadingState.set(!1)),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}getDiff(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"}),t=n?{files:n}:{};return this.http.post(`${this.apiUrl}/diff`,t,{headers:e}).pipe($e(1),J(()=>this.loadingState.set(!1)),Y(r=>(this.loadingState.set(!1),this.handleError(r))))}push(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/push`,{branch:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"push",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}pull(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/pull`,{branch:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"pull",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}createBranch(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/branch`,{name:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"branch_create",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}switchBranch(n){this.clearError(),this.loadingState.set(!0);let e=new pe({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/checkout`,{branch:n},{headers:e}).pipe(J(()=>{this.loadingState.set(!1),this.gitChanges$.next({action:"branch_switch",data:n}),this.refreshStatus()}),Y(t=>(this.loadingState.set(!1),this.handleError(t))))}getBranches(){return this.clearError(),this.loadingState.set(!0),this.http.get(`${this.apiUrl}/branches`).pipe($e(1),J(()=>this.loadingState.set(!1)),Y(n=>(this.loadingState.set(!1),this.handleError(n))))}refreshStatus(){this.getStatus().subscribe({error:n=>{console.warn("Failed to refresh git status:",n)}})}formatCommitDate(n){let t=new Date().getTime()-n.getTime(),r=Math.floor(t/(1e3*60)),c=Math.floor(r/60),h=Math.floor(c/24);return r<60?`${r} minutes ago`:c<24?`${c} hours ago`:h<30?`${h} days ago`:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(n)}shortenHash(n){return n.substring(0,7)}static \u0275fac=function(e){return new(e||i)(ln(at))};static \u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"root"})};var vo=(i,n)=>n.path;function Mo(i,n){if(i&1&&(o(0,"mat-chip",5)(1,"mat-icon"),s(2,"edit"),a(),s(3," Changes "),a()),i&2){let e=d();g("matBadge",e.context().gitStatus.modified+e.context().gitStatus.staged+e.context().gitStatus.untracked)}}function bo(i,n){if(i&1){let e=T();o(0,"mat-list-item",16),p("click",function(){let r=P(e).$implicit,c=d(2);return v(c.onFileClick({name:r.split("/").pop()||"",path:r,type:"file"}))}),o(1,"mat-icon",17),s(2),a(),o(3,"div",18),s(4),a(),o(5,"div",19),s(6),a(),o(7,"button",20),p("click",function(r){let c=P(e).$implicit,h=d(2);return r.stopPropagation(),v(h.pinFile(c))}),o(8,"mat-icon"),s(9),a()()()}if(i&2){let e=n.$implicit,t=d(2);l(2),m(t.getFileIcon(e,"file")),l(2),m(e.split("/").pop()),l(2),m(e),l(),x("pinned",t.isFilePinned(e)),l(2),m((t.isFilePinned(e),"push_pin"))}}function Oo(i,n){if(i&1&&(o(0,"div",8)(1,"h4")(2,"mat-icon"),s(3,"tab"),a(),s(4," Active Files "),o(5,"mat-chip",9),s(6),a()(),o(7,"mat-nav-list",10),w(8,bo,10,6,"mat-list-item",null,K),a()(),k(10,"mat-divider")),i&2){let e=d();l(6),m(e.context().activeFiles.length),l(2),S(e.context().activeFiles)}}function yo(i,n){if(i&1){let e=T();o(0,"mat-list-item",16),p("click",function(){let r=P(e).$implicit,c=d(2);return v(c.onFileClick({name:r.split("/").pop()||"",path:r,type:"file"}))}),o(1,"mat-icon",17),s(2),a(),o(3,"div",18),s(4),a(),o(5,"div",19),s(6),a(),o(7,"button",21),p("click",function(r){let c=P(e).$implicit,h=d(2);return r.stopPropagation(),v(h.unpinFile(c))}),o(8,"mat-icon"),s(9,"close"),a()()()}if(i&2){let e=n.$implicit,t=d(2);l(2),m(t.getFileIcon(e,"file")),l(2),m(e.split("/").pop()),l(2),m(e)}}function wo(i,n){if(i&1&&(o(0,"div",8)(1,"h4")(2,"mat-icon"),s(3,"push_pin"),a(),s(4," Pinned Files "),o(5,"mat-chip",9),s(6),a()(),o(7,"mat-nav-list",10),w(8,yo,10,3,"mat-list-item",null,K),a()(),k(10,"mat-divider")),i&2){let e=d();l(6),m(e.context().pinnedFiles.length),l(2),S(e.context().pinnedFiles)}}function So(i,n){if(i&1){let e=T();o(0,"mat-list-item",16),p("click",function(){let r=P(e).$implicit,c=d();return v(c.onRecentFileClick(r))}),o(1,"mat-icon",17),s(2),a(),o(3,"div",18),s(4),a(),o(5,"div",22)(6,"span",23),s(7),a(),o(8,"span",24),s(9),a()(),o(10,"button",20),p("click",function(r){let c=P(e).$implicit,h=d();return r.stopPropagation(),v(h.pinFile(c.path))}),o(11,"mat-icon"),s(12),a()()()}if(i&2){let e=n.$implicit,t=d();l(2),m(t.getFileTypeIcon(e.type)),l(2),m(e.name),l(3),m(e.path),l(2),z("",t.formatFileSize(e.size)," \u2022 ",t.formatRelativeTime(e.modified)),l(),x("pinned",t.isFilePinned(e.path)),l(2),m((t.isFilePinned(e.path),"push_pin"))}}function ko(i,n){i&1&&k(0,"mat-progress-bar",12)}function To(i,n){if(i&1&&(o(0,"span",29),s(1),a()),i&2){let e=d().$implicit,t=d();l(),m(t.formatFileSize(e.size))}}function Eo(i,n){if(i&1){let e=T();o(0,"mat-tree-node",25)(1,"div",26),p("click",function(){let r=P(e).$implicit,c=d();return v(c.onFileClick(r))}),o(2,"mat-icon",27),s(3),a(),o(4,"span",28),s(5),a(),f(6,To,2,1,"span",29),a()()}if(i&2){let e=n.$implicit,t=d();l(3),m(t.getFileIcon(e.name,e.type)),l(2),m(e.name),l(),C(e.type==="file"&&e.size?6:-1)}}function Io(i,n){if(i&1&&(o(0,"span",33),s(1),a()),i&2){let e=d().$implicit;l(),y("(",e.children.length,")")}}function Fo(i,n){if(i&1&&(o(0,"mat-tree-node",25)(1,"div",30)(2,"button",31)(3,"mat-icon"),s(4),a()(),o(5,"mat-icon",32),s(6),a(),o(7,"span",28),s(8),a(),f(9,Io,2,1,"span",33),a()()),i&2){let e=n.$implicit,t=d();l(4),y(" ",t.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),l(2),m(t.getFileIcon(e.name,e.type)),l(2),m(e.name),l(),C(e.children?9:-1)}}var Rt=class i{fileService=_(oi);gitService=_(zt);snackBar=_(Pt);http=_(at);treeControl=new Kn(n=>n.children);dataSource=new ti;context=u({projectRoot:"",activeFiles:[],pinnedFiles:this.loadPinnedFiles(),gitBranch:"main",gitStatus:{modified:0,staged:0,untracked:0}});recentFiles=u([]);fileTree=u([]);loading=u(!1);ngOnInit(){this.loadProjectContext(),this.loadFileTree(),this.loadRecentFiles(),this.loadGitStatus()}loadProjectContext(){this.http.get("http://localhost:5001/api/configuration").subscribe({next:n=>{this.context.update(e=>b(M({},e),{projectRoot:n.projectDirectory||"."}))},error:()=>{this.context.update(n=>b(M({},n),{projectRoot:"."}))}})}loadFileTree(){this.loading.set(!0);let n=this.context().projectRoot||".";this.fileService.listFiles(n).subscribe({next:e=>{let t=this.convertApiNodesToFileNodes(e);this.fileTree.set(t),this.dataSource.data=t,this.expandDefaultNodes(),this.loading.set(!1)},error:e=>{console.error("Failed to load file tree:",e),this.snackBar.open("Failed to load file tree","Close",{duration:3e3}),this.loading.set(!1)}})}loadRecentFiles(){let n=localStorage.getItem("codeagent-recent-files");if(n)try{let e=JSON.parse(n);this.recentFiles.set(e.map(t=>b(M({},t),{modified:new Date(t.modified)})))}catch(e){console.error("Failed to parse recent files:",e)}}loadGitStatus(){this.gitService.getStatus().subscribe({next:n=>{this.context.update(e=>b(M({},e),{gitBranch:n.branch||"main",gitStatus:{modified:n.modified?.length||0,staged:n.staged?.length||0,untracked:n.untracked?.length||0}}))},error:n=>{console.error("Failed to load git status:",n)}})}convertApiNodesToFileNodes(n){return n.map(e=>({name:e.name,path:e.path,type:e.type==="folder"?"directory":"file",size:e.size,modified:e.modified,children:e.children?this.convertApiNodesToFileNodes(e.children):void 0,expanded:!1}))}expandDefaultNodes(){this.fileTree().forEach(n=>{n.type==="directory"&&["src","app","components"].includes(n.name)&&(n.expanded=!0,this.treeControl.expand(n),this.expandChildrenRecursively(n,2))})}expandChildrenRecursively(n,e=1){e<=0||!n.children||n.children.forEach(t=>{t.type==="directory"&&["app","components","services"].includes(t.name)&&(t.expanded=!0,this.treeControl.expand(t),this.expandChildrenRecursively(t,e-1))})}loadPinnedFiles(){let n=localStorage.getItem("codeagent-pinned-files");if(n)try{return JSON.parse(n)}catch(e){console.error("Failed to parse pinned files:",e)}return[]}savePinnedFiles(){localStorage.setItem("codeagent-pinned-files",JSON.stringify(this.context().pinnedFiles))}addToRecentFiles(n){let e=n.split("/").pop()||"unknown",t=e.split(".").pop()?.toLowerCase()||"",r={name:e,path:n,type:this.getFileType(t),modified:new Date,size:0};this.recentFiles.update(c=>{let h=c.filter(te=>te.path!==n),N=[r,...h].slice(0,10);return localStorage.setItem("codeagent-recent-files",JSON.stringify(N)),N})}getFileType(n){switch(n){case"ts":return"typescript";case"js":return"javascript";case"html":return"html";case"scss":case"css":return"scss";case"json":return"json";case"md":return"markdown";default:return"text"}}hasChild=(n,e)=>!!e.children&&e.children.length>0;getFileIcon(n,e){if(e==="directory")return"folder";switch(n.split(".").pop()?.toLowerCase()){case"ts":return"code";case"html":return"web";case"scss":case"css":return"palette";case"json":return"data_object";case"md":return"article";case"js":return"javascript";default:return"description"}}getFileTypeIcon(n){switch(n){case"typescript":return"code";case"scss":return"palette";case"markdown":return"article";case"json":return"data_object";default:return"description"}}formatFileSize(n){if(n===0)return"0 B";let e=1024,t=["B","KB","MB","GB"],r=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,r)).toFixed(1))+" "+t[r]}formatRelativeTime(n){let t=new Date().getTime()-n.getTime(),r=Math.floor(t/6e4);if(r<1)return"just now";if(r<60)return`${r} min ago`;let c=Math.floor(r/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`}onFileClick(n){n.type==="file"&&this.openFile(n.path)}onRecentFileClick(n){this.openFile(n.path)}openFile(n){this.loading.set(!0),this.fileService.readFile(n).subscribe({next:e=>{this.addToRecentFiles(n),this.context.update(t=>{let r=t.activeFiles.includes(n)?t.activeFiles:[...t.activeFiles,n];return b(M({},t),{activeFiles:r})}),console.log("File opened:",n,e),this.snackBar.open(`Opened ${n.split("/").pop()}`,"Close",{duration:2e3}),this.loading.set(!1)},error:e=>{console.error("Failed to read file:",e),this.snackBar.open("Failed to open file","Close",{duration:3e3}),this.loading.set(!1)}})}pinFile(n){this.context().pinnedFiles.includes(n)||(this.context.update(t=>b(M({},t),{pinnedFiles:[...t.pinnedFiles,n]})),this.savePinnedFiles(),this.snackBar.open("File pinned","Close",{duration:2e3}))}unpinFile(n){this.context.update(e=>b(M({},e),{pinnedFiles:e.pinnedFiles.filter(t=>t!==n)})),this.savePinnedFiles(),this.snackBar.open("File unpinned","Close",{duration:2e3})}isFilePinned(n){return this.context().pinnedFiles.includes(n)}refreshFileTree(){this.loadFileTree()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-context-files-panel"]],decls:39,vars:14,consts:[[1,"context-panel"],[1,"context-header"],[1,"project-info"],[1,"project-chip"],[1,"git-chip",3,"matTooltip"],["matBadgeSize","small","matBadgeColor","warn",1,"status-chip",3,"matBadge"],[1,"context-actions"],["mat-icon-button","","matTooltip","Refresh",3,"click","disabled"],[1,"context-section"],[1,"count-chip"],["dense",""],[1,"context-section","file-browser"],["mode","indeterminate"],[1,"file-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],["matTreeNodeToggle","",4,"matTreeNodeDef","matTreeNodeDefWhen"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine","",1,"file-path"],["mat-icon-button","","matListItemMeta","","matTooltip","Pin file",3,"click"],["mat-icon-button","","matListItemMeta","","matTooltip","Unpin file",1,"pinned",3,"click"],["matListItemLine","",1,"file-meta"],[1,"file-path"],[1,"file-info"],["matTreeNodeToggle",""],[1,"tree-node","file-node",3,"click"],[1,"file-icon"],[1,"node-label"],[1,"file-size"],[1,"tree-node","folder-node"],["mat-icon-button","","matTreeNodeToggle",""],[1,"folder-icon"],[1,"folder-count"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-chip",3)(4,"mat-icon"),s(5,"folder"),a(),s(6),a(),o(7,"mat-chip",4)(8,"mat-icon"),s(9,"source"),a(),s(10),a(),f(11,Mo,4,1,"mat-chip",5),a(),o(12,"div",6)(13,"button",7),p("click",function(){return t.refreshFileTree()}),o(14,"mat-icon"),s(15,"refresh"),a()()()(),k(16,"mat-divider"),f(17,Oo,11,1),f(18,wo,11,1),o(19,"div",8)(20,"h4")(21,"mat-icon"),s(22,"history"),a(),s(23," Recent Files "),o(24,"mat-chip",9),s(25),a()(),o(26,"mat-nav-list",10),w(27,So,13,8,"mat-list-item",null,vo),a()(),k(29,"mat-divider"),o(30,"div",11)(31,"h4")(32,"mat-icon"),s(33,"folder_open"),a(),s(34," Project Files "),a(),f(35,ko,1,0,"mat-progress-bar",12),o(36,"mat-tree",13),R(37,Eo,7,3,"mat-tree-node",14)(38,Fo,10,4,"mat-tree-node",15),a()()()),e&2&&(l(6),y(" ",t.context().projectRoot.split("/").pop()," "),l(),g("matTooltip","Branch: "+t.context().gitBranch),l(3),y(" ",t.context().gitBranch," "),l(),C(t.context().gitStatus.modified+t.context().gitStatus.staged+t.context().gitStatus.untracked>0?11:-1),l(2),g("disabled",t.loading()),l(),x("spinning",t.loading()),l(3),C(t.context().activeFiles.length>0?17:-1),l(),C(t.context().pinnedFiles.length>0?18:-1),l(7),m(t.recentFiles().length),l(2),S(t.recentFiles()),l(8),C(t.loading()?35:-1),l(),g("dataSource",t.dataSource)("treeControl",t.treeControl),l(2),g("matTreeNodeDefWhen",t.hasChild))},dependencies:[E,j,I,F,D,G,fe,_t,ut,ht,Z,pt,mt,gt,W,de,$,ei,Jn,Xn,Zn,Yn,ii,ni,U,X,xe,Ot,Hn],styles:[".context-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-y:auto}.context-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--spacing-md);gap:var(--spacing-md)}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);flex:1}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .project-chip[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;font-weight:500}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .project-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .git-chip[_ngcontent-%COMP%]{background-color:var(--app-success-light);color:var(--app-success);font-size:12px;height:24px}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .git-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{background-color:var(--app-warning-light);color:var(--app-warning, #ff9800);font-size:12px;height:24px}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.context-header[_ngcontent-%COMP%]   .context-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs)}.context-header[_ngcontent-%COMP%]   .context-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.context-header[_ngcontent-%COMP%]   .context-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.context-header[_ngcontent-%COMP%]   .context-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.context-section[_ngcontent-%COMP%]{padding:var(--spacing-md)}.context-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin:0 0 var(--spacing-md) 0;font-size:14px;font-weight:600;color:var(--app-text-primary)}.context-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-text-secondary)}.context-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%]{margin-left:auto;background-color:var(--app-surface);color:var(--app-text-secondary);font-size:11px;font-weight:600;height:20px;min-height:20px}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{cursor:pointer;border-radius:var(--radius-sm);margin-bottom:2px;transition:background-color var(--transition-fast)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[matListItemIcon][_ngcontent-%COMP%]{color:var(--app-text-secondary);font-size:18px;width:18px;height:18px}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemTitle][_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:var(--app-text-primary)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine][_ngcontent-%COMP%]{font-size:11px;color:var(--app-text-disabled)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine].file-path[_ngcontent-%COMP%]{font-family:Courier New,monospace;opacity:.8}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine].file-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine].file-meta[_ngcontent-%COMP%]   .file-path[_ngcontent-%COMP%]{font-family:Courier New,monospace}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine].file-meta[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   button[matListItemMeta][_ngcontent-%COMP%]{opacity:0;transition:opacity var(--transition-fast)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   button[matListItemMeta].pinned[_ngcontent-%COMP%]{opacity:1;color:var(--primary-color)}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   button[matListItemMeta][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.context-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover   button[matListItemMeta][_ngcontent-%COMP%]{opacity:1}.file-browser[_ngcontent-%COMP%]{flex:1}.file-browser[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--spacing-xs) 0;cursor:pointer;border-radius:var(--radius-sm);transition:background-color var(--transition-fast)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%], .file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-text-secondary);margin-right:var(--spacing-sm)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   .node-label[_ngcontent-%COMP%]{flex:1;font-size:13px;color:var(--app-text-primary)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-size:11px;color:var(--app-text-disabled);margin-left:var(--spacing-sm)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   .folder-count[_ngcontent-%COMP%]{font-size:11px;color:var(--app-text-disabled);margin-left:var(--spacing-xs)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   button[matTreeNodeToggle][_ngcontent-%COMP%]{width:24px;height:24px;margin-right:var(--spacing-xs)}.file-tree[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]   button[matTreeNodeToggle][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--app-text-secondary)}.file-tree[_ngcontent-%COMP%]   .file-node[_ngcontent-%COMP%]{padding-left:calc(var(--spacing-md) + 24px)}.file-tree[_ngcontent-%COMP%]   .folder-node[_ngcontent-%COMP%]{font-weight:500}mat-divider[_ngcontent-%COMP%]{margin:0;opacity:.6}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--app-text-disabled)}@media (prefers-color-scheme: dark){.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .git-chip[_ngcontent-%COMP%]{background-color:#4caf5026;color:#66bb6a}.context-header[_ngcontent-%COMP%]   .project-info[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{background-color:#ff980026;color:#ffa726}}"]})};var Ao=(i,n)=>n.id;function zo(i,n){if(i&1){let e=T();o(0,"button",13),p("click",function(){P(e);let r=d();return r.searchQuery.set(""),v(r.onSearchChange())}),o(1,"mat-icon"),s(2,"clear"),a()()}}function Ro(i,n){i&1&&(o(0,"div",11),k(1,"mat-progress-spinner",14),o(2,"p"),s(3,"Loading conversations..."),a()())}function No(i,n){i&1&&(o(0,"mat-icon"),s(1,"search_off"),a(),o(2,"h3"),s(3,"No conversations found"),a(),o(4,"p"),s(5,"Try adjusting your search terms or filters"),a())}function Bo(i,n){i&1&&(o(0,"mat-icon"),s(1,"star_border"),a(),o(2,"h3"),s(3,"No starred conversations"),a(),o(4,"p"),s(5,"Star conversations to find them easily later"),a())}function Lo(i,n){i&1&&(o(0,"mat-icon"),s(1,"archive"),a(),o(2,"h3"),s(3,"No archived conversations"),a(),o(4,"p"),s(5,"Archived conversations will appear here"),a())}function Ho(i,n){i&1&&(o(0,"mat-icon"),s(1,"chat_bubble_outline"),a(),o(2,"h3"),s(3,"No conversations yet"),a(),o(4,"p"),s(5,"Start a new conversation to see it here"),a())}function Vo(i,n){if(i&1&&(o(0,"div",12),f(1,No,6,0)(2,Bo,6,0)(3,Lo,6,0)(4,Ho,6,0),a()),i&2){let e=d();l(),C(e.searchQuery()?1:e.selectedFilter()==="starred"?2:e.selectedFilter()==="archived"?3:4)}}function $o(i,n){i&1&&(o(0,"mat-icon",18),s(1,"star"),a())}function jo(i,n){i&1&&(o(0,"mat-icon"),s(1,"chat_bubble"),a())}function Go(i,n){if(i&1&&(o(0,"mat-chip",32),s(1),a()),i&2){let e=n.$implicit;l(),m(e)}}function Uo(i,n){if(i&1&&(o(0,"div",26),w(1,Go,2,1,"mat-chip",32,K),a()),i&2){let e=d().$implicit;l(),S(e.tags)}}function Wo(i,n){if(i&1){let e=T();o(0,"button",33),p("click",function(r){P(e);let c=d().$implicit,h=d(2);return v(h.archiveSession(c.id,r))}),o(1,"mat-icon"),s(2,"archive"),a(),s(3," Archive "),a()}}function Qo(i,n){if(i&1){let e=T();o(0,"button",33),p("click",function(r){P(e);let c=d().$implicit,h=d(2);return v(h.restoreSession(c.id,r))}),o(1,"mat-icon"),s(2,"unarchive"),a(),s(3," Restore "),a()}}function qo(i,n){if(i&1){let e=T();o(0,"mat-list-item",16),p("click",function(){let r=P(e).$implicit,c=d(2);return v(c.openSession(r.id))}),o(1,"div",17),f(2,$o,2,0,"mat-icon",18)(3,jo,2,0,"mat-icon"),a(),o(4,"div",19)(5,"span",20),s(6),a(),o(7,"div",21)(8,"span",22),s(9),a(),o(10,"span",23),s(11),a()()(),o(12,"div",24)(13,"p",25),s(14),a(),f(15,Uo,3,0,"div",26),a(),o(16,"div",27)(17,"button",28),p("click",function(r){let c=P(e).$implicit,h=d(2);return v(h.toggleStar(c.id,r))}),o(18,"mat-icon"),s(19),a()(),o(20,"button",29),p("click",function(r){return P(e),v(r.stopPropagation())}),o(21,"mat-icon"),s(22,"more_vert"),a()(),o(23,"mat-menu",null,0),f(25,Wo,4,0,"button",30)(26,Qo,4,0,"button",30),o(27,"button",31),p("click",function(r){let c=P(e).$implicit,h=d(2);return v(h.deleteSession(c.id,r))}),o(28,"mat-icon"),s(29,"delete"),a(),s(30," Delete "),a()()()()}if(i&2){let e=n.$implicit,t=_n(24),r=d(2);l(2),C(e.starred?2:3),l(4),m(e.title),l(3),y("",e.messageCount," messages"),l(2),m(r.formatRelativeTime(e.lastActivity)),l(3),m(e.preview),l(),C(e.tags.length>0?15:-1),l(2),x("starred",e.starred),g("matTooltip",e.starred?"Remove star":"Add star"),l(2),m(e.starred?"star":"star_border"),l(),g("matMenuTriggerFor",t),l(5),C(e.archived?26:25)}}function Ko(i,n){if(i&1&&(o(0,"mat-nav-list"),w(1,qo,31,12,"mat-list-item",15,Ao),a()),i&2){let e=d();l(),S(e.filteredSessions())}}var Nt=class i{searchQuery=u("");loading=u(!1);selectedFilter=u("all");chatSessions=u([]);filteredSessions=u([]);ngOnInit(){this.updateFilteredSessions()}updateFilteredSessions(){let n=this.chatSessions(),e=this.searchQuery().toLowerCase();switch(e&&(n=n.filter(t=>t.title.toLowerCase().includes(e)||t.preview.toLowerCase().includes(e)||t.tags.some(r=>r.toLowerCase().includes(e)))),this.selectedFilter()){case"starred":n=n.filter(t=>t.starred&&!t.archived);break;case"recent":n=n.filter(t=>{let r=new Date(Date.now()-1728e5);return t.lastActivity>r&&!t.archived});break;case"archived":n=n.filter(t=>t.archived);break;case"all":default:n=n.filter(t=>!t.archived);break}n.sort((t,r)=>r.lastActivity.getTime()-t.lastActivity.getTime()),this.filteredSessions.set(n)}onSearchChange(){this.updateFilteredSessions()}setFilter(n){this.selectedFilter.set(n),this.updateFilteredSessions()}toggleStar(n,e){e.stopPropagation(),this.chatSessions.update(t=>t.map(r=>r.id===n?b(M({},r),{starred:!r.starred}):r)),this.updateFilteredSessions()}archiveSession(n,e){e.stopPropagation(),this.chatSessions.update(t=>t.map(r=>r.id===n?b(M({},r),{archived:!0}):r)),this.updateFilteredSessions()}restoreSession(n,e){e.stopPropagation(),this.chatSessions.update(t=>t.map(r=>r.id===n?b(M({},r),{archived:!1}):r)),this.updateFilteredSessions()}deleteSession(n,e){e.stopPropagation(),confirm("Are you sure you want to delete this chat session? This action cannot be undone.")&&(this.chatSessions.update(t=>t.filter(r=>r.id!==n)),this.updateFilteredSessions())}openSession(n){console.log("Opening session:",n)}formatRelativeTime(n){let t=new Date().getTime()-n.getTime(),r=Math.floor(t/6e4);if(r<1)return"just now";if(r<60)return`${r}m ago`;let c=Math.floor(r/60);if(c<24)return`${c}h ago`;let h=Math.floor(c/24);if(h<7)return`${h}d ago`;let N=Math.floor(h/7);return N<4?`${N}w ago`:`${Math.floor(h/30)}mo ago`}getFilterCount(n){let e=this.chatSessions();switch(n){case"starred":return e.filter(r=>r.starred&&!r.archived).length;case"recent":let t=new Date(Date.now()-2*24*60*60*1e3);return e.filter(r=>r.lastActivity>t&&!r.archived).length;case"archived":return e.filter(r=>r.archived).length;case"all":default:return e.filter(r=>!r.archived).length}}refreshHistory(){this.loading.set(!0),setTimeout(()=>{this.loading.set(!1)},1e3)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-chat-history-panel"]],decls:41,vars:18,consts:[["sessionMenu","matMenu"],[1,"history-panel"],[1,"history-header"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by title, content, or tags...",3,"ngModelChange","input","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button",""],["mat-icon-button","","matTooltip","Refresh",3,"click","disabled"],[1,"filter-section"],[3,"click"],[1,"sessions-list"],[1,"loading-container"],[1,"empty-state"],["matSuffix","","mat-icon-button","",3,"click"],["diameter","32"],[1,"session-item"],[1,"session-item",3,"click"],["matListItemIcon","",1,"session-avatar"],[1,"star-icon"],["matListItemTitle","",1,"session-header"],[1,"session-title"],[1,"session-meta"],[1,"message-count"],[1,"last-activity"],["matListItemLine","",1,"session-content"],[1,"session-preview"],[1,"session-tags"],["matListItemMeta","",1,"session-actions"],["mat-icon-button","",3,"click","matTooltip"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",1,"delete-action",3,"click"],[1,"tag-chip"],["mat-menu-item","",3,"click"]],template:function(e,t){e&1&&(o(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),s(4,"Search conversations"),a(),o(5,"input",4),le("ngModelChange",function(c){return re(t.searchQuery,c)||(t.searchQuery=c),c}),p("input",function(){return t.onSearchChange()}),a(),o(6,"mat-icon",5),s(7,"search"),a(),f(8,zo,3,0,"button",6),a(),o(9,"button",7),p("click",function(){return t.refreshHistory()}),o(10,"mat-icon"),s(11,"refresh"),a()()(),o(12,"div",8)(13,"mat-chip-set")(14,"mat-chip",9),p("click",function(){return t.setFilter("all")}),s(15," All "),o(16,"mat-chip-trailing-icon"),s(17),a()(),o(18,"mat-chip",9),p("click",function(){return t.setFilter("starred")}),o(19,"mat-icon"),s(20,"star"),a(),s(21," Starred "),o(22,"mat-chip-trailing-icon"),s(23),a()(),o(24,"mat-chip",9),p("click",function(){return t.setFilter("recent")}),o(25,"mat-icon"),s(26,"schedule"),a(),s(27," Recent "),o(28,"mat-chip-trailing-icon"),s(29),a()(),o(30,"mat-chip",9),p("click",function(){return t.setFilter("archived")}),o(31,"mat-icon"),s(32,"archive"),a(),s(33," Archived "),o(34,"mat-chip-trailing-icon"),s(35),a()()()(),k(36,"mat-divider"),o(37,"div",10),f(38,Ro,4,0,"div",11)(39,Vo,5,1,"div",12)(40,Ko,3,0,"mat-nav-list"),a()()),e&2&&(l(5),se("ngModel",t.searchQuery),l(3),C(t.searchQuery()?8:-1),l(),g("disabled",t.loading()),l(),x("spinning",t.loading()),l(4),x("selected",t.selectedFilter()==="all"),l(3),m(t.getFilterCount("all")),l(),x("selected",t.selectedFilter()==="starred"),l(5),m(t.getFilterCount("starred")),l(),x("selected",t.selectedFilter()==="recent"),l(5),m(t.getFilterCount("recent")),l(),x("selected",t.selectedFilter()==="archived"),l(5),m(t.getFilterCount("archived")),l(3),C(t.loading()?38:t.filteredSessions().length===0?39:40))},dependencies:[E,j,he,ue,_e,I,F,D,G,fe,_t,ut,ht,Z,pt,mt,gt,W,de,Ae,Ln,$,li,si,ai,ri,U,X,ze,vt,Re,De,ft,Rn,Nn,Be,Ne],styles:['@charset "UTF-8";.history-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.history-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-md)}.history-header[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1}.history-header[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{height:40px}.history-header[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:8px 0;min-height:auto}.history-header[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     input{font-size:14px}.history-header[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-mdc-form-field-icon-prefix{color:var(--app-text-secondary)}.history-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.history-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.history-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.filter-section[_ngcontent-%COMP%]{padding:0 var(--spacing-md) var(--spacing-md)}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px;height:32px;cursor:pointer;transition:all var(--transition-fast)}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]   mat-chip-trailing-icon[_ngcontent-%COMP%]{color:#fff;opacity:.9}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-chip-trailing-icon[_ngcontent-%COMP%]{font-size:11px;background-color:var(--app-text-disabled);color:#fff;border-radius:10px;padding:2px 6px;margin-left:var(--spacing-xs)}.sessions-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.sessions-list[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);color:var(--app-text-secondary)}.sessions-list[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:var(--spacing-md);font-size:14px}.sessions-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--spacing-xl);text-align:center;color:var(--app-text-secondary)}.sessions-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5;margin-bottom:var(--spacing-md)}.sessions-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 var(--spacing-sm) 0;font-size:16px;font-weight:500;color:var(--app-text-primary)}.sessions-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;opacity:.8}.sessions-list[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.session-item[_ngcontent-%COMP%]{min-height:80px;padding:var(--spacing-md);cursor:pointer;border-bottom:1px solid var(--app-divider);transition:background-color var(--transition-fast);display:flex;align-items:center}.session-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.session-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.session-item[_ngcontent-%COMP%]     .mat-mdc-list-item-unscoped-content{display:flex;align-items:center;width:100%}.session-item[_ngcontent-%COMP%]   .session-avatar[_ngcontent-%COMP%]{align-self:center;display:flex;align-items:center;justify-content:center}.session-item[_ngcontent-%COMP%]   .session-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--app-text-secondary)}.session-item[_ngcontent-%COMP%]   .session-avatar[_ngcontent-%COMP%]   mat-icon.star-icon[_ngcontent-%COMP%]{color:var(--app-warning, #ff9800)}.session-item[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;justify-content:center}.session-item[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]   .session-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--app-text-primary);line-height:1.2}.session-item[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]   .session-meta[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);font-size:11px;color:var(--app-text-disabled)}.session-item[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]   .session-meta[_ngcontent-%COMP%]   .message-count[_ngcontent-%COMP%]:before{content:"\\1f4ac  "}.session-item[_ngcontent-%COMP%]   .session-header[_ngcontent-%COMP%]   .session-meta[_ngcontent-%COMP%]   .last-activity[_ngcontent-%COMP%]:before{content:"\\1f552  "}.session-item[_ngcontent-%COMP%]   .session-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;flex:1}.session-item[_ngcontent-%COMP%]   .session-content[_ngcontent-%COMP%]   .session-preview[_ngcontent-%COMP%]{font-size:13px;color:var(--app-text-secondary);line-height:1.3;margin:0 0 var(--spacing-xs) 0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.session-item[_ngcontent-%COMP%]   .session-content[_ngcontent-%COMP%]   .session-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.session-item[_ngcontent-%COMP%]   .session-content[_ngcontent-%COMP%]   .session-tags[_ngcontent-%COMP%]   .tag-chip[_ngcontent-%COMP%]{font-size:10px;height:18px;background-color:var(--app-surface);color:var(--app-text-secondary);border:1px solid var(--app-divider)}.session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;opacity:0;transition:opacity var(--transition-fast);align-self:center;justify-content:center}.session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:32px;height:32px;color:var(--app-text-secondary)}.session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]   button.starred[_ngcontent-%COMP%], .session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]   button.starred[_ngcontent-%COMP%]:hover{color:var(--app-warning, #ff9800)}.session-item[_ngcontent-%COMP%]   .session-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.session-item[_ngcontent-%COMP%]:hover   .session-actions[_ngcontent-%COMP%]{opacity:1}  .delete-action{color:var(--app-error, #f44336)!important}  .delete-action mat-icon{color:var(--app-error, #f44336)!important}mat-divider[_ngcontent-%COMP%]{margin:0;opacity:.6}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--app-text-disabled)}@media (prefers-color-scheme: dark){.filter-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]   mat-chip-trailing-icon[_ngcontent-%COMP%]{background-color:#fff3}}']})};var Yo=(i,n)=>n.name,xi=(i,n)=>n.id;function Jo(i,n){if(i&1&&(o(0,"div",16)(1,"mat-icon"),s(2),a(),o(3,"span"),s(4),a(),k(5,"mat-progress-spinner",17),a()),i&2){let e=d().$implicit;l(2),m(e.icon),l(2),m(e.name)}}function Zo(i,n){if(i&1&&f(0,Jo,6,2,"div",16),i&2){let e=n.$implicit,t=d().$implicit;C(e.id===t?0:-1)}}function Xo(i,n){if(i&1&&w(0,Zo,1,1,null,null,xi),i&2){let e=d(2);S(e.tools())}}function ea(i,n){if(i&1&&(o(0,"div",5)(1,"h4")(2,"mat-icon"),s(3,"play_circle"),a(),s(4," Running Tools "),o(5,"mat-chip",14),s(6),a()(),o(7,"div",15),w(8,Xo,2,0,null,null,K),a(),k(10,"mat-divider"),a()),i&2){let e=d();l(6),m(e.activeTools().length),l(2),S(e.activeTools())}}function ta(i,n){if(i&1&&(o(0,"mat-chip",18),s(1),a()),i&2){let e=d().$implicit,t=d();l(),y(" ",t.getRunningToolsCount(e)," running ")}}function na(i,n){if(i&1&&(o(0,"mat-chip",27),s(1),a()),i&2){let e=d().$implicit;l(),m(e.shortcut)}}function ia(i,n){i&1&&k(0,"mat-progress-spinner",29)}function oa(i,n){if(i&1){let e=T();o(0,"button",34),p("click",function(r){P(e);let c=d().$implicit,h=d(2);return r.stopPropagation(),v(h.executeTool(c))}),o(1,"mat-icon"),s(2,"play_arrow"),a()()}if(i&2){let e=d().$implicit;g("disabled",!e.enabled)}}function aa(i,n){if(i&1&&(o(0,"span",33),s(1),a()),i&2){let e=d().$implicit,t=d(2);l(),y("\u2022 Last used ",t.formatLastUsed(e.lastUsed))}}function sa(i,n){if(i&1){let e=T();o(0,"div",21)(1,"div",22),p("click",function(){let r=P(e).$implicit,c=d(2);return v(c.executeTool(r))}),o(2,"div",23)(3,"mat-icon",24),s(4),a(),o(5,"div",25)(6,"span",26),s(7),a(),f(8,na,2,1,"mat-chip",27),a()(),o(9,"div",28),f(10,ia,1,0,"mat-progress-spinner",29)(11,oa,3,1,"button",30),o(12,"button",31),p("click",function(r){let c=P(e).$implicit,h=d(2);return r.stopPropagation(),v(h.toggleTool(c.id))}),o(13,"mat-icon"),s(14),a()()()(),o(15,"div",32),s(16),f(17,aa,2,1,"span",33),a()()}if(i&2){let e=n.$implicit;x("disabled",!e.enabled)("running",e.status==="running"),l(4),m(e.icon),l(3),m(e.name),l(),C(e.shortcut?8:-1),l(2),C(e.status==="running"?10:11),l(2),g("matTooltip",e.enabled?"Disable tool":"Enable tool"),l(2),m(e.enabled?"toggle_on":"toggle_off"),l(2),y(" ",e.description," "),l(),C(e.lastUsed?17:-1)}}function ra(i,n){if(i&1&&(o(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),s(4),a(),o(5,"span"),s(6),a(),f(7,ta,2,1,"mat-chip",18),a(),o(8,"mat-panel-description"),s(9),a()(),o(10,"div",19),w(11,sa,18,12,"div",20,xi),a()()),i&2){let e=n.$implicit,t=d();g("expanded",e.expanded),l(4),m(e.icon),l(2),m(e.name),l(),C(t.getRunningToolsCount(e)>0?7:-1),l(2),z(" ",t.getEnabledToolsCount(e),"/",e.tools.length," enabled "),l(2),S(e.tools)}}var Bt=class i{loading=u(!1);activeTools=u([]);tools=u([{id:"search-code",name:"Search Code",description:"Search across all files in the project",icon:"search",category:"code",enabled:!0,shortcut:"Ctrl+Shift+F",status:"idle"},{id:"find-replace",name:"Find & Replace",description:"Find and replace text across multiple files",icon:"find_replace",category:"code",enabled:!0,shortcut:"Ctrl+H",status:"idle"},{id:"format-code",name:"Format Code",description:"Auto-format code using project standards",icon:"auto_fix_high",category:"code",enabled:!0,shortcut:"Shift+Alt+F",status:"idle"},{id:"analyze-imports",name:"Analyze Imports",description:"Find unused imports and optimize dependencies",icon:"account_tree",category:"code",enabled:!0,status:"idle"},{id:"generate-docs",name:"Generate Docs",description:"Auto-generate documentation from code comments",icon:"article",category:"code",enabled:!0,status:"idle"},{id:"create-file",name:"Create File",description:"Create new files with templates",icon:"note_add",category:"file",enabled:!0,shortcut:"Ctrl+N",status:"idle"},{id:"create-folder",name:"Create Folder",description:"Create new directories in the project",icon:"create_new_folder",category:"file",enabled:!0,status:"idle"},{id:"move-rename",name:"Move/Rename",description:"Move or rename files and update references",icon:"drive_file_move",category:"file",enabled:!0,status:"idle"},{id:"duplicate-file",name:"Duplicate",description:"Duplicate files or folders",icon:"content_copy",category:"file",enabled:!0,status:"idle"},{id:"git-status",name:"Git Status",description:"View current git status and changes",icon:"info",category:"git",enabled:!0,shortcut:"Ctrl+Shift+G",status:"idle"},{id:"git-diff",name:"View Diff",description:"Compare changes between commits",icon:"difference",category:"git",enabled:!0,status:"idle"},{id:"git-commit",name:"Commit Changes",description:"Stage and commit changes",icon:"check_circle",category:"git",enabled:!0,shortcut:"Ctrl+Enter",status:"idle"},{id:"git-branch",name:"Branch Manager",description:"Create, switch, and manage branches",icon:"call_split",category:"git",enabled:!0,status:"idle"},{id:"explain-code",name:"Explain Code",description:"Get AI explanations of selected code",icon:"psychology",category:"ai",enabled:!0,status:"idle",lastUsed:new Date(Date.now()-30*60*1e3)},{id:"suggest-improvements",name:"Code Suggestions",description:"Get AI suggestions for code improvements",icon:"lightbulb",category:"ai",enabled:!0,status:"idle",lastUsed:new Date(Date.now()-45*60*1e3)},{id:"generate-tests",name:"Generate Tests",description:"Auto-generate unit tests for functions",icon:"quiz",category:"ai",enabled:!0,status:"idle"},{id:"code-review",name:"AI Code Review",description:"Get automated code review feedback",icon:"rate_review",category:"ai",enabled:!0,status:"idle"},{id:"syntax-check",name:"Syntax Check",description:"Check for syntax errors in code",icon:"bug_report",category:"debug",enabled:!0,status:"idle"},{id:"lint-code",name:"Lint Code",description:"Run linting tools on the codebase",icon:"rule",category:"debug",enabled:!0,status:"idle"},{id:"run-tests",name:"Run Tests",description:"Execute unit and integration tests",icon:"play_arrow",category:"debug",enabled:!0,shortcut:"Ctrl+Shift+T",status:"idle"}]);categories=u([]);ngOnInit(){this.organizeTools()}organizeTools(){let n=new Map;this.tools().forEach(t=>{n.has(t.category)||n.set(t.category,[]),n.get(t.category).push(t)});let e=[{name:"Code Tools",icon:"code",tools:n.get("code")||[],expanded:!0},{name:"File Operations",icon:"folder",tools:n.get("file")||[],expanded:!1},{name:"Git Integration",icon:"source",tools:n.get("git")||[],expanded:!1},{name:"AI Assistance",icon:"psychology",tools:n.get("ai")||[],expanded:!1},{name:"Debug & Test",icon:"bug_report",tools:n.get("debug")||[],expanded:!1}];this.categories.set(e)}executeTool(n){n.enabled&&(this.updateToolStatus(n.id,"running"),this.activeTools.update(e=>[...e,n.id]),console.log(`Executing tool: ${n.name}`),setTimeout(()=>{this.updateToolStatus(n.id,"idle"),this.activeTools.update(e=>e.filter(t=>t!==n.id)),this.tools.update(e=>e.map(t=>t.id===n.id?b(M({},t),{lastUsed:new Date}):t))},2e3))}updateToolStatus(n,e){this.tools.update(t=>t.map(r=>r.id===n?b(M({},r),{status:e}):r)),this.organizeTools()}toggleTool(n){this.tools.update(e=>e.map(t=>t.id===n?b(M({},t),{enabled:!t.enabled}):t)),this.organizeTools()}getEnabledToolsCount(n){return n.tools.filter(e=>e.enabled).length}getRunningToolsCount(n){return n.tools.filter(e=>e.status==="running").length}formatLastUsed(n){let t=new Date().getTime()-n.getTime(),r=Math.floor(t/6e4);if(r<1)return"just now";if(r<60)return`${r}m ago`;let c=Math.floor(r/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`}refreshTools(){this.loading.set(!0),setTimeout(()=>{this.loading.set(!1)},1e3)}getTotalEnabledToolsCount(){return this.tools().filter(n=>n.enabled).length}getTotalToolsCount(){return this.tools().length}getActiveToolsCount(){return this.activeTools().length}toggleAllTools(){let n=this.tools().every(e=>e.enabled);this.tools.update(e=>e.map(t=>b(M({},t),{enabled:!n}))),this.organizeTools()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-tools-panel"]],decls:32,vars:8,consts:[[1,"tools-panel"],[1,"tools-header"],[1,"header-info"],[1,"tools-count"],["mat-icon-button","","matTooltip","Refresh Tools",3,"click","disabled"],[1,"active-tools-section"],[1,"tools-categories"],["multi",""],[3,"expanded"],[1,"tools-footer"],[1,"footer-stats"],[1,"stat"],[1,"footer-actions"],["mat-button","",3,"click"],[1,"count-chip"],[1,"active-tools-list"],[1,"active-tool"],["diameter","16","mode","indeterminate"],[1,"running-chip"],[1,"tools-list"],[1,"tool-item",3,"disabled","running"],[1,"tool-item"],[1,"tool-header",3,"click"],[1,"tool-info"],[1,"tool-icon"],[1,"tool-details"],[1,"tool-name"],[1,"shortcut-chip"],[1,"tool-actions"],["diameter","20","mode","indeterminate"],["mat-icon-button","","matTooltip","Execute tool",3,"disabled"],["mat-icon-button","",3,"click","matTooltip"],[1,"tool-description"],[1,"last-used"],["mat-icon-button","","matTooltip","Execute tool",3,"click","disabled"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),s(4,"Available Tools"),a(),o(5,"mat-chip",3),s(6),a()(),o(7,"button",4),p("click",function(){return t.refreshTools()}),o(8,"mat-icon"),s(9,"refresh"),a()()(),k(10,"mat-divider"),f(11,ea,11,1,"div",5),o(12,"div",6)(13,"mat-accordion",7),w(14,ra,13,6,"mat-expansion-panel",8,Yo),a()(),k(16,"mat-divider"),o(17,"div",9)(18,"div",10)(19,"span",11)(20,"mat-icon"),s(21,"check_circle"),a(),s(22),a(),o(23,"span",11)(24,"mat-icon"),s(25,"play_circle"),a(),s(26),a()(),o(27,"div",12)(28,"button",13),p("click",function(){return t.toggleAllTools()}),o(29,"mat-icon"),s(30,"select_all"),a(),s(31," Toggle All "),a()()()()),e&2&&(l(6),z(" ",t.getTotalEnabledToolsCount(),"/",t.getTotalToolsCount()," enabled "),l(),g("disabled",t.loading()),l(),x("spinning",t.loading()),l(3),C(t.activeTools().length>0?11:-1),l(3),S(t.categories()),l(8),y(" ",t.getTotalEnabledToolsCount()," enabled "),l(4),y(" ",t.getActiveToolsCount()," running "))},dependencies:[E,j,I,F,D,Ce,G,fe,Z,q,St,H,V,Q,wt,W,de,xe,U,X,$,ze,vt],styles:[".tools-panel[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.tools-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md)}.tools-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.tools-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--app-text-primary)}.tools-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .tools-count[_ngcontent-%COMP%]{font-size:11px;height:20px;background-color:var(--app-surface);color:var(--app-text-secondary);border:1px solid var(--app-divider)}.tools-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.tools-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.tools-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.active-tools-section[_ngcontent-%COMP%]{padding:var(--spacing-md)}.active-tools-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin:0 0 var(--spacing-md) 0;font-size:14px;font-weight:600;color:var(--app-text-primary)}.active-tools-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-success)}.active-tools-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .count-chip[_ngcontent-%COMP%]{margin-left:auto;background-color:var(--app-success-light);color:var(--app-success);font-size:11px;height:20px}.active-tools-section[_ngcontent-%COMP%]   .active-tools-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-xs);margin-bottom:var(--spacing-md)}.active-tools-section[_ngcontent-%COMP%]   .active-tools-list[_ngcontent-%COMP%]   .active-tool[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background-color:var(--app-success-light);border-radius:var(--radius-sm);font-size:13px;color:var(--app-success)}.active-tools-section[_ngcontent-%COMP%]   .active-tools-list[_ngcontent-%COMP%]   .active-tool[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.active-tools-section[_ngcontent-%COMP%]   .active-tools-list[_ngcontent-%COMP%]   .active-tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-weight:500}.tools-categories[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 var(--spacing-md)}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm);background-color:var(--app-surface)}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 var(--spacing-md)}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:14px;font-weight:500}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-text-secondary)}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .running-chip[_ngcontent-%COMP%]{font-size:10px;height:18px;background-color:var(--app-warning-light);color:var(--app-warning, #ff9800);margin-left:var(--spacing-sm)}.tools-categories[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{font-size:12px;color:var(--app-text-disabled)}.tools-list[_ngcontent-%COMP%]{padding:var(--spacing-sm)}.tool-item[_ngcontent-%COMP%]{border-radius:var(--radius-sm);margin-bottom:var(--spacing-sm);padding:var(--spacing-sm);transition:all var(--transition-fast);border:1px solid transparent}.tool-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.tool-item.disabled[_ngcontent-%COMP%]{opacity:.6}.tool-item.disabled[_ngcontent-%COMP%]   .tool-name[_ngcontent-%COMP%]{color:var(--app-text-disabled)}.tool-item.running[_ngcontent-%COMP%]{background-color:var(--app-success-light);border-color:var(--app-success)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer;margin-bottom:var(--spacing-xs)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);flex:1}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-info[_ngcontent-%COMP%]   .tool-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--app-text-secondary)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-info[_ngcontent-%COMP%]   .tool-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-info[_ngcontent-%COMP%]   .tool-details[_ngcontent-%COMP%]   .tool-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--app-text-primary)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-info[_ngcontent-%COMP%]   .tool-details[_ngcontent-%COMP%]   .shortcut-chip[_ngcontent-%COMP%]{font-size:10px;height:16px;background-color:var(--app-background);color:var(--app-text-secondary);border:1px solid var(--app-divider);font-family:monospace;align-self:flex-start}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]{display:flex;gap:2px;opacity:0;transition:opacity var(--transition-fast)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px;color:var(--app-text-secondary)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.tool-item[_ngcontent-%COMP%]   .tool-header[_ngcontent-%COMP%]   .tool-actions[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin:4px}.tool-item[_ngcontent-%COMP%]:hover   .tool-actions[_ngcontent-%COMP%]{opacity:1}.tool-item[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]{font-size:12px;color:var(--app-text-secondary);line-height:1.4}.tool-item[_ngcontent-%COMP%]   .tool-description[_ngcontent-%COMP%]   .last-used[_ngcontent-%COMP%]{color:var(--app-text-disabled);font-style:italic}.tools-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md);background-color:var(--app-surface);border-top:1px solid var(--app-divider)}.tools-footer[_ngcontent-%COMP%]   .footer-stats[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md)}.tools-footer[_ngcontent-%COMP%]   .footer-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-xs);font-size:12px;color:var(--app-text-secondary)}.tools-footer[_ngcontent-%COMP%]   .footer-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.tools-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.tools-footer[_ngcontent-%COMP%]   .footer-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}mat-divider[_ngcontent-%COMP%]{margin:0;opacity:.6}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--app-text-disabled)}@media (prefers-color-scheme: dark){.active-tools-section[_ngcontent-%COMP%]   .active-tools-list[_ngcontent-%COMP%]   .active-tool[_ngcontent-%COMP%]{background-color:#4caf5026;color:#66bb6a}.tool-item.running[_ngcontent-%COMP%]{background-color:#4caf5026;border-color:#66bb6a}}"]})};var Lt=(i,n)=>n.id;function la(i,n){if(i&1){let e=T();o(0,"div",19)(1,"mat-checkbox",20),p("change",function(){let r=P(e).$implicit,c=d();return v(c.togglePermission(r))}),o(2,"div",21)(3,"div",22)(4,"mat-icon"),s(5),a(),o(6,"span",23),s(7),a(),o(8,"mat-icon",24),s(9),a()(),o(10,"div",25),s(11),a()()()()}if(i&2){let e=n.$implicit,t=d();x("granted",e.granted),l(),g("checked",e.granted),l(4),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip","Risk: "+e.riskLevel),l(),y(" ",t.getRiskIcon(e.riskLevel)," "),l(2),m(e.description)}}function ca(i,n){if(i&1){let e=T();o(0,"div",19)(1,"mat-checkbox",20),p("change",function(){let r=P(e).$implicit,c=d();return v(c.togglePermission(r))}),o(2,"div",21)(3,"div",22)(4,"mat-icon"),s(5),a(),o(6,"span",23),s(7),a(),o(8,"mat-icon",24),s(9),a()(),o(10,"div",25),s(11),a()()()()}if(i&2){let e=n.$implicit,t=d();x("granted",e.granted),l(),g("checked",e.granted),l(4),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip","Risk: "+e.riskLevel),l(),y(" ",t.getRiskIcon(e.riskLevel)," "),l(2),m(e.description)}}function da(i,n){if(i&1){let e=T();o(0,"div",19)(1,"mat-checkbox",20),p("change",function(){let r=P(e).$implicit,c=d();return v(c.togglePermission(r))}),o(2,"div",21)(3,"div",22)(4,"mat-icon"),s(5),a(),o(6,"span",23),s(7),a(),o(8,"mat-icon",24),s(9),a()(),o(10,"div",25),s(11),a()()()()}if(i&2){let e=n.$implicit,t=d();x("granted",e.granted),l(),g("checked",e.granted),l(4),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip","Risk: "+e.riskLevel),l(),y(" ",t.getRiskIcon(e.riskLevel)," "),l(2),m(e.description)}}function ma(i,n){if(i&1){let e=T();o(0,"div",19)(1,"mat-checkbox",20),p("change",function(){let r=P(e).$implicit,c=d();return v(c.togglePermission(r))}),o(2,"div",21)(3,"div",22)(4,"mat-icon"),s(5),a(),o(6,"span",23),s(7),a(),o(8,"mat-icon",24),s(9),a()(),o(10,"div",25),s(11),a()()()()}if(i&2){let e=n.$implicit,t=d();x("granted",e.granted),l(),g("checked",e.granted),l(4),m(e.icon),l(2),m(e.name),l(),g("color",t.getRiskColor(e.riskLevel))("matTooltip","Risk: "+e.riskLevel),l(),y(" ",t.getRiskIcon(e.riskLevel)," "),l(2),m(e.description)}}function pa(i,n){if(i&1){let e=T();o(0,"mat-chip-row",26),p("removed",function(){let r=P(e).$implicit,c=d();return v(c.removePermittedPath(r))}),o(1,"mat-icon",27),s(2,"check_circle"),a(),s(3),o(4,"button",28)(5,"mat-icon"),s(6,"cancel"),a()()()}if(i&2){let e=n.$implicit;l(3),y(" ",e," ")}}function ga(i,n){if(i&1){let e=T();o(0,"mat-chip-row",29),p("removed",function(){let r=P(e).$implicit,c=d();return v(c.removeBlockedPath(r))}),o(1,"mat-icon",27),s(2,"block"),a(),s(3),o(4,"button",28)(5,"mat-icon"),s(6,"cancel"),a()()()}if(i&2){let e=n.$implicit;l(3),y(" ",e," ")}}var Ht=class i{constructor(n,e){this.dialogRef=n;this.data=e;e.requestedPermissions?this.permissions.set(e.requestedPermissions):this.permissions.set([{id:"file-read",name:"Read Files",description:"Allow reading files in permitted directories",granted:!1,icon:"visibility",category:"file",riskLevel:"low"},{id:"file-write",name:"Write Files",description:"Allow creating and modifying files",granted:!1,icon:"edit",category:"file",riskLevel:"medium"},{id:"file-delete",name:"Delete Files",description:"Allow deleting files and directories",granted:!1,icon:"delete",category:"file",riskLevel:"high"},{id:"git-read",name:"Git Status",description:"View git status and history",granted:!1,icon:"info",category:"git",riskLevel:"low"},{id:"git-commit",name:"Git Commit",description:"Create git commits",granted:!1,icon:"check_circle",category:"git",riskLevel:"medium"},{id:"git-push",name:"Git Push",description:"Push to remote repositories",granted:!1,icon:"cloud_upload",category:"git",riskLevel:"high"},{id:"system-info",name:"System Info",description:"Read system information",granted:!1,icon:"computer",category:"system",riskLevel:"low"},{id:"system-execute",name:"Execute Commands",description:"Run system commands",granted:!1,icon:"terminal",category:"system",riskLevel:"high"},{id:"tool-search",name:"Search Tools",description:"Use search and grep tools",granted:!1,icon:"search",category:"tool",riskLevel:"low"},{id:"tool-ai",name:"AI Tools",description:"Use AI-powered code analysis",granted:!1,icon:"psychology",category:"tool",riskLevel:"medium"}]),e.currentSessionPermissions&&this.permissions.update(t=>t.map(r=>{let c=e.currentSessionPermissions.find(h=>h.id===r.id);return c?b(M({},r),{granted:c.granted}):r})),(e.permittedPaths||e.blockedPaths)&&this.sessionPaths.set({permitted:e.permittedPaths||[],blocked:e.blockedPaths||[]}),this.groupPermissions()}permissions=u([]);sessionPaths=u({permitted:[],blocked:[]});newPermittedPath="";newBlockedPath="";filePermissions=u([]);systemPermissions=u([]);gitPermissions=u([]);toolPermissions=u([]);groupPermissions(){let n=this.permissions();this.filePermissions.set(n.filter(e=>e.category==="file")),this.systemPermissions.set(n.filter(e=>e.category==="system")),this.gitPermissions.set(n.filter(e=>e.category==="git")),this.toolPermissions.set(n.filter(e=>e.category==="tool"))}togglePermission(n){this.permissions.update(e=>e.map(t=>t.id===n.id?b(M({},t),{granted:!t.granted}):t)),this.groupPermissions()}selectAll(n){this.permissions.update(e=>e.map(t=>t.category===n?b(M({},t),{granted:!0}):t)),this.groupPermissions()}deselectAll(n){this.permissions.update(e=>e.map(t=>t.category===n?b(M({},t),{granted:!1}):t)),this.groupPermissions()}addPermittedPath(){this.newPermittedPath.trim()&&(this.sessionPaths.update(n=>b(M({},n),{permitted:[...n.permitted,this.newPermittedPath.trim()]})),this.newPermittedPath="")}removePermittedPath(n){this.sessionPaths.update(e=>b(M({},e),{permitted:e.permitted.filter(t=>t!==n)}))}addBlockedPath(){this.newBlockedPath.trim()&&(this.sessionPaths.update(n=>b(M({},n),{blocked:[...n.blocked,this.newBlockedPath.trim()]})),this.newBlockedPath="")}removeBlockedPath(n){this.sessionPaths.update(e=>b(M({},e),{blocked:e.blocked.filter(t=>t!==n)}))}applyPermissions(){let n={permissions:this.permissions(),paths:this.sessionPaths()};this.dialogRef.close(n)}cancel(){this.dialogRef.close()}getRiskColor(n){switch(n){case"low":return"primary";case"medium":return"accent";case"high":return"warn";default:return""}}getRiskIcon(n){switch(n){case"low":return"check_circle";case"medium":return"warning";case"high":return"error";default:return"help"}}getGrantedCount(n){return n.filter(e=>e.granted).length}static \u0275fac=function(e){return new(e||i)(jt(Vn),jt($n))};static \u0275cmp=O({type:i,selectors:[["app-session-permissions-dialog"]],decls:119,vars:12,consts:[["mat-dialog-title",""],[1,"permissions-container"],[1,"permissions-intro"],["expanded",""],[1,"permission-actions"],["mat-button","",3,"click"],[1,"permission-list"],[1,"permission-item",3,"granted"],[1,"path-section"],[1,"add-path"],["appearance","outline",1,"flex-field"],["matInput","","placeholder","/path/to/permit",3,"ngModelChange","keyup.enter","ngModel"],["mat-icon-button","","color","primary",3,"click"],[1,"path-chips"],["matInput","","placeholder","/path/to/block",3,"ngModelChange","keyup.enter","ngModel"],["mat-icon-button","","color","warn",3,"click"],[1,"blocked-chip"],["align","end"],["mat-raised-button","","color","primary",3,"click"],[1,"permission-item"],[3,"change","checked"],[1,"permission-content"],[1,"permission-header"],[1,"permission-name"],[1,"risk-icon",3,"color","matTooltip"],[1,"permission-description"],[3,"removed"],["matChipAvatar",""],["matChipRemove",""],[1,"blocked-chip",3,"removed"]],template:function(e,t){e&1&&(o(0,"h2",0)(1,"mat-icon"),s(2,"security"),a(),s(3,` Session Permissions
`),a(),o(4,"mat-dialog-content")(5,"div",1)(6,"div",2)(7,"mat-icon"),s(8,"info"),a(),o(9,"p"),s(10,"Grant temporary permissions for this chat session only. These permissions will be cleared when you start a new conversation."),a()(),o(11,"mat-expansion-panel",3)(12,"mat-expansion-panel-header")(13,"mat-panel-title")(14,"mat-icon"),s(15,"folder"),a(),s(16," File Operations "),a(),o(17,"mat-panel-description"),s(18),a()(),o(19,"div",4)(20,"button",5),p("click",function(){return t.selectAll("file")}),s(21,"Select All"),a(),o(22,"button",5),p("click",function(){return t.deselectAll("file")}),s(23,"Clear All"),a()(),o(24,"div",6),w(25,la,12,9,"div",7,Lt),a()(),o(27,"mat-expansion-panel")(28,"mat-expansion-panel-header")(29,"mat-panel-title")(30,"mat-icon"),s(31,"source"),a(),s(32," Git Operations "),a(),o(33,"mat-panel-description"),s(34),a()(),o(35,"div",4)(36,"button",5),p("click",function(){return t.selectAll("git")}),s(37,"Select All"),a(),o(38,"button",5),p("click",function(){return t.deselectAll("git")}),s(39,"Clear All"),a()(),o(40,"div",6),w(41,ca,12,9,"div",7,Lt),a()(),o(43,"mat-expansion-panel")(44,"mat-expansion-panel-header")(45,"mat-panel-title")(46,"mat-icon"),s(47,"computer"),a(),s(48," System Commands "),a(),o(49,"mat-panel-description"),s(50),a()(),o(51,"div",4)(52,"button",5),p("click",function(){return t.selectAll("system")}),s(53,"Select All"),a(),o(54,"button",5),p("click",function(){return t.deselectAll("system")}),s(55,"Clear All"),a()(),o(56,"div",6),w(57,da,12,9,"div",7,Lt),a()(),o(59,"mat-expansion-panel")(60,"mat-expansion-panel-header")(61,"mat-panel-title")(62,"mat-icon"),s(63,"build"),a(),s(64," Tools & Extensions "),a(),o(65,"mat-panel-description"),s(66),a()(),o(67,"div",4)(68,"button",5),p("click",function(){return t.selectAll("tool")}),s(69,"Select All"),a(),o(70,"button",5),p("click",function(){return t.deselectAll("tool")}),s(71,"Clear All"),a()(),o(72,"div",6),w(73,ma,12,9,"div",7,Lt),a()(),o(75,"mat-expansion-panel")(76,"mat-expansion-panel-header")(77,"mat-panel-title")(78,"mat-icon"),s(79,"route"),a(),s(80," Path Restrictions (Session Only) "),a(),o(81,"mat-panel-description"),s(82),a()(),o(83,"div",8)(84,"h4"),s(85,"Additional Permitted Paths"),a(),o(86,"div",9)(87,"mat-form-field",10)(88,"mat-label"),s(89,"Add Path"),a(),o(90,"input",11),le("ngModelChange",function(c){return re(t.newPermittedPath,c)||(t.newPermittedPath=c),c}),p("keyup.enter",function(){return t.addPermittedPath()}),a()(),o(91,"button",12),p("click",function(){return t.addPermittedPath()}),o(92,"mat-icon"),s(93,"add_circle"),a()()(),o(94,"mat-chip-set",13),w(95,pa,7,1,"mat-chip-row",null,K),a()(),k(97,"mat-divider"),o(98,"div",8)(99,"h4"),s(100,"Additional Blocked Paths"),a(),o(101,"div",9)(102,"mat-form-field",10)(103,"mat-label"),s(104,"Add Path"),a(),o(105,"input",14),le("ngModelChange",function(c){return re(t.newBlockedPath,c)||(t.newBlockedPath=c),c}),p("keyup.enter",function(){return t.addBlockedPath()}),a()(),o(106,"button",15),p("click",function(){return t.addBlockedPath()}),o(107,"mat-icon"),s(108,"block"),a()()(),o(109,"mat-chip-set",13),w(110,ga,7,1,"mat-chip-row",16,K),a()()()()(),o(112,"mat-dialog-actions",17)(113,"button",5),p("click",function(){return t.cancel()}),s(114,"Cancel"),a(),o(115,"button",18),p("click",function(){return t.applyPermissions()}),o(116,"mat-icon"),s(117,"check"),a(),s(118," Apply Permissions "),a()()),e&2&&(l(18),z(" ",t.getGrantedCount(t.filePermissions())," of ",t.filePermissions().length," granted "),l(7),S(t.filePermissions()),l(9),z(" ",t.getGrantedCount(t.gitPermissions())," of ",t.gitPermissions().length," granted "),l(7),S(t.gitPermissions()),l(9),z(" ",t.getGrantedCount(t.systemPermissions())," of ",t.systemPermissions().length," granted "),l(7),S(t.systemPermissions()),l(9),z(" ",t.getGrantedCount(t.toolPermissions())," of ",t.toolPermissions().length," granted "),l(7),S(t.toolPermissions()),l(9),z(" ",t.sessionPaths().permitted.length," permitted, ",t.sessionPaths().blocked.length," blocked "),l(8),se("ngModel",t.newPermittedPath),l(5),S(t.sessionPaths().permitted),l(10),se("ngModel",t.newBlockedPath),l(5),S(t.sessionPaths().blocked))},dependencies:[E,j,he,ue,_e,Qn,Gn,Wn,Un,D,Ce,G,bt,Mt,I,F,$,Z,W,Bn,Ct,xt,Ae,Re,De,ft,Be,Ne,q,H,V,Q,wt,U,X],styles:[".permissions-container[_ngcontent-%COMP%]{width:600px;max-width:90vw;max-height:70vh;overflow-y:auto}.permissions-intro[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);padding:var(--spacing-md);background-color:var(--app-info-light);border-radius:var(--radius-md);margin-bottom:var(--spacing-lg)}.permissions-intro[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--primary-color)}.permissions-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--app-text-secondary);font-size:14px}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:var(--spacing-md);background-color:var(--app-surface)}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-weight:500}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-text-secondary)}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-description[_ngcontent-%COMP%]{color:var(--app-text-secondary);font-size:12px}.permission-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);margin-bottom:var(--spacing-md);padding:0 var(--spacing-md)}.permission-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.permission-list[_ngcontent-%COMP%]{padding:0 var(--spacing-md) var(--spacing-md)}.permission-item[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm);padding:var(--spacing-sm);border-radius:var(--radius-sm);transition:background-color var(--transition-fast)}.permission-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.permission-item.granted[_ngcontent-%COMP%]{background-color:var(--app-success-light)}.permission-item.granted[_ngcontent-%COMP%]   .permission-name[_ngcontent-%COMP%]{font-weight:500}.permission-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{width:100%}.permission-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     .mat-mdc-checkbox-label{width:100%}.permission-content[_ngcontent-%COMP%]{width:100%}.permission-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.permission-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:var(--app-text-secondary)}.permission-header[_ngcontent-%COMP%]   .permission-name[_ngcontent-%COMP%]{flex:1;font-size:14px;color:var(--app-text-primary)}.permission-header[_ngcontent-%COMP%]   .risk-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.permission-description[_ngcontent-%COMP%]{margin-left:calc(18px + var(--spacing-sm));font-size:12px;color:var(--app-text-secondary);line-height:1.4}.path-section[_ngcontent-%COMP%]{padding:var(--spacing-md)}.path-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--app-text-primary);font-weight:500;font-size:14px;margin-bottom:var(--spacing-md)}.path-section[_ngcontent-%COMP%]   .add-path[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:flex-start;margin-bottom:var(--spacing-md)}.path-section[_ngcontent-%COMP%]   .add-path[_ngcontent-%COMP%]   .flex-field[_ngcontent-%COMP%]{flex:1}.path-section[_ngcontent-%COMP%]   .add-path[_ngcontent-%COMP%]   .flex-field[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.path-section[_ngcontent-%COMP%]   .path-chips[_ngcontent-%COMP%]   mat-chip-row[_ngcontent-%COMP%]{margin:var(--spacing-xs)}.path-section[_ngcontent-%COMP%]   .path-chips[_ngcontent-%COMP%]   mat-chip-row.blocked-chip[_ngcontent-%COMP%]{--mat-chip-background-color: var(--error-light, #ffebee);--mat-chip-text-color: var(--error-color, #f44336)}.path-section[_ngcontent-%COMP%]   .path-chips[_ngcontent-%COMP%]   mat-chip-row.blocked-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--error-color, #f44336)}mat-divider[_ngcontent-%COMP%]{margin:var(--spacing-lg) 0}mat-dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}mat-dialog-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--primary-color)}mat-dialog-actions[_ngcontent-%COMP%]{padding:var(--spacing-md);border-top:1px solid var(--app-divider)}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--spacing-xs)}@media (prefers-color-scheme: dark){.permissions-intro[_ngcontent-%COMP%]{background-color:rgba(var(--primary-rgb),.1)}.permission-item.granted[_ngcontent-%COMP%]{background-color:#4caf501a}}@media (max-width: 768px){.permissions-container[_ngcontent-%COMP%]{width:100%;max-width:100%}}"]})};var ha=["messagesContainer"];function ua(i,n){if(i&1){let e=T();o(0,"app-session-permissions-panel",9),p("permissionsChanged",function(r){P(e);let c=d(2);return v(c.onPermissionsChanged(r))})("pathsChanged",function(r){P(e);let c=d(2);return v(c.onPathsChanged(r))}),a()}if(i&2){let e=d(2);g("permissions",e.sessionPermissions())("paths",e.sessionPaths())}}function _a(i,n){i&1&&k(0,"app-context-files-panel")}function fa(i,n){i&1&&k(0,"app-chat-history-panel")}function Ca(i,n){i&1&&k(0,"app-tools-panel")}function xa(i,n){if(i&1){let e=T();o(0,"div",6)(1,"app-panel",7),p("close",function(){P(e);let r=d();return v(r.closeSidecar())}),f(2,ua,1,2,"app-session-permissions-panel",8)(3,_a,1,0,"app-context-files-panel")(4,fa,1,0,"app-chat-history-panel")(5,Ca,1,0,"app-tools-panel"),a()()}if(i&2){let e,t=d();g("@slideIn",t.showSidecar()),l(),g("title",t.getSidecarTitle())("showCloseButton",!0),l(),C((e=t.sidecarView())==="permissions"?2:e==="context"?3:e==="history"?4:e==="tools"?5:-1)}}var Pi=class i{messagesContainer;chatService=_(ci);toolParser=_(Le);snackBar=_(Pt);dialog=_(jn);streamSubscription;messages=u([]);inputMessage="";isLoading=u(!1);isStreaming=u(!1);currentStreamMessage=u("");headerActions=[{id:"permissions",icon:"security",tooltip:"Session Permissions"},{id:"context",icon:"folder_open",tooltip:"Context & Files"},{id:"history",icon:"history",tooltip:"Chat History"},{id:"tools",icon:"build",tooltip:"Available Tools"}];sessionPermissions=u([]);sessionPaths=u({permitted:[],blocked:[]});activePermissionsCount=u(0);showSidecar=u(!1);sidecarView=u("permissions");useStreaming=!0;selectedProvider="openai";selectedModel="gpt-4";ngOnInit(){this.messages=this.chatService.getMessages(),this.loadConfiguration(),Pn(()=>{let n=this.chatService.getConnectionState()();n==="connected"?console.log("Connected to SignalR hub"):n==="disconnected"&&console.log("Disconnected from SignalR hub")})}ngOnDestroy(){this.streamSubscription&&this.streamSubscription.unsubscribe()}loadConfiguration(){this.chatService.getConfiguration().subscribe({next:n=>{n.defaultProvider&&(this.selectedProvider=n.defaultProvider),n.defaultModel&&(this.selectedModel=n.defaultModel)},error:n=>{console.error("Failed to load configuration:",n)}})}onHeaderAction(n){this.toggleSidecar(n)}sendMessage(n){let e=n||this.inputMessage.trim();if(!e||this.isLoading()||this.isStreaming())return;let t={id:crypto.randomUUID(),content:e,role:"user",timestamp:new Date};this.chatService.addMessage(t),this.inputMessage="",this.scrollToBottom();let r={message:e,provider:this.selectedProvider,model:this.selectedModel,stream:this.useStreaming};this.useStreaming?this.sendStreamingMessage(r):this.sendRegularMessage(r)}sendRegularMessage(n){this.isLoading.set(!0),this.chatService.sendMessage(n).subscribe({next:e=>{let t=this.toolParser.extractToolCalls(e),r={id:e.id||crypto.randomUUID(),content:"",role:"assistant",timestamp:new Date,toolCalls:t.length>0?t:e.toolCalls,metadata:{usage:e.usage}};this.chatService.addMessage(r),this.isLoading.set(!1),this.scrollToBottom()},error:e=>{this.isLoading.set(!1),this.handleError(e)}})}sendStreamingMessage(n){this.isStreaming.set(!0),this.currentStreamMessage.set("");let e=crypto.randomUUID(),t={id:e,content:"",role:"assistant",timestamp:new Date,toolCalls:[]};this.chatService.addMessage(t);let r="";this.streamSubscription=this.chatService.streamMessage(n).subscribe({next:c=>{r+=c;let h=this.toolParser.handleStreamChunk(e,r);this.messages.update(N=>N.map(te=>te.id===e?h.toolCalls.length>0?b(M({},te),{toolCalls:h.toolCalls,content:""}):b(M({},te),{content:r,toolCalls:[]}):te)),this.scrollToBottom()},error:c=>{this.isStreaming.set(!1),this.toolParser.clearStreamBuffer(e),this.handleError(c)},complete:()=>{this.isStreaming.set(!1),this.currentStreamMessage.set("");let c=this.toolParser.parseMessage(r);c.toolCalls.length>0&&this.messages.update(h=>h.map(N=>N.id===e?b(M({},N),{toolCalls:c.toolCalls,content:""}):N)),this.toolParser.clearStreamBuffer(e)}})}handleError(n){console.error("Chat error:",n);let e="Failed to send message";n.error?.message?e=n.error.message:n.message&&(e=n.message),this.snackBar.open(e,"Close",{duration:5e3,panelClass:["error-snackbar"]});let t={id:crypto.randomUUID(),content:`Error: ${e}`,role:"system",timestamp:new Date};this.chatService.addMessage(t),(e.includes("connection")||e.includes("network"))&&setTimeout(()=>{this.chatService.reconnect()},2e3)}scrollToBottom(){setTimeout(()=>{if(this.messagesContainer){let n=this.messagesContainer.nativeElement;n.scrollTop=n.scrollHeight}},100)}handleKeyDown(n){if(n.key==="Enter"){if(n.shiftKey)return;n.preventDefault(),this.sendMessage()}}openSessionPermissions(){this.dialog.open(Ht,{width:"700px",data:{currentSessionPermissions:this.sessionPermissions(),permittedPaths:this.sessionPaths().permitted,blockedPaths:this.sessionPaths().blocked}}).afterClosed().subscribe(e=>{e&&(this.sessionPermissions.set(e.permissions),this.sessionPaths.set(e.paths),this.updateActivePermissionsCount(),this.updateBackendPermissions(),this.snackBar.open("Session permissions updated","Close",{duration:3e3}))})}updateActivePermissionsCount(){let n=this.sessionPermissions().filter(e=>e.granted).length;this.activePermissionsCount.set(n)}updateBackendPermissions(){let n={permissions:this.sessionPermissions().filter(e=>e.granted),paths:this.sessionPaths()};console.log("Updating backend with session permissions:",n)}clearSession(){confirm("This will clear all messages and session permissions. Continue?")&&this.chatService.clearHistory().subscribe({next:()=>{this.messages.set([]),this.sessionPermissions.set([]),this.sessionPaths.set({permitted:[],blocked:[]}),this.activePermissionsCount.set(0),this.updateBackendPermissions(),this.snackBar.open("Session cleared successfully","Close",{duration:2e3,panelClass:["success-snackbar"]})},error:n=>{console.error("Failed to clear session:",n),this.snackBar.open("Failed to clear session","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}hasActivePermissions(){return this.activePermissionsCount()>0}toggleSidecar(n){this.showSidecar()&&this.sidecarView()===n?this.showSidecar.set(!1):(this.sidecarView.set(n),this.showSidecar.set(!0))}closeSidecar(){this.showSidecar.set(!1)}getSidecarTitle(){switch(this.sidecarView()){case"permissions":return"Session Permissions";case"context":return"Context & Files";case"history":return"Chat History";case"tools":return"Available Tools";default:return""}}onPermissionsChanged(n){this.sessionPermissions.set(n),this.updateActivePermissionsCount(),this.updateBackendPermissions()}onPathsChanged(n){this.sessionPaths.set(n),this.updateBackendPermissions()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=O({type:i,selectors:[["app-chat-container"]],viewQuery:function(e,t){if(e&1&&me(ha,5),e&2){let r;ne(r=ie())&&(t.messagesContainer=r.first)}},decls:6,vars:11,consts:[[1,"chat-layout"],[1,"chat-container"],[3,"actionClick","clearSession","title","showPermissionsBadge","permissionsCount","actions"],[3,"messages","isLoading","showWelcome"],[3,"messageSent","disabled"],["class","chat-sidecar",4,"ngIf"],[1,"chat-sidecar"],[3,"close","title","showCloseButton"],[3,"permissions","paths"],[3,"permissionsChanged","pathsChanged","permissions","paths"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1)(2,"app-chat-header",2),p("actionClick",function(c){return t.onHeaderAction(c)})("clearSession",function(){return t.clearSession()}),a(),k(3,"app-messages-list",3),o(4,"app-chat-input",4),p("messageSent",function(c){return t.sendMessage(c)}),a()(),R(5,xa,6,4,"div",5),a()),e&2&&(l(),x("with-sidecar",t.showSidecar()),l(),g("title","Chat")("showPermissionsBadge",t.hasActivePermissions())("permissionsCount",t.activePermissionsCount())("actions",t.headerActions),l(),g("messages",t.messages())("isLoading",t.isLoading())("showWelcome",!0),l(),g("disabled",t.isLoading()),l(),g("ngIf",t.showSidecar()))},dependencies:[E,ce,j,I,D,$,W,xe,U,yt,It,Ft,qn,Dt,Rt,Nt,Bt],styles:[".chat-layout[_ngcontent-%COMP%]{height:100vh;display:flex;position:relative;overflow:hidden}.chat-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:var(--app-background);transition:margin-right .3s ease-in-out;height:100%;overflow:hidden}.chat-container.with-sidecar[_ngcontent-%COMP%]{margin-right:400px}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-lg) var(--spacing-xl);background-color:var(--app-surface);border-bottom:1px solid var(--app-divider);box-shadow:0 2px 4px #0000000d;z-index:2}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:400;color:var(--app-text-primary)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   .permissions-chip[_ngcontent-%COMP%]{height:28px;font-size:12px;background-color:var(--app-success-light);color:var(--success-color)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   .permissions-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-sm);align-items:center}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:24px;margin:0 var(--spacing-sm)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:var(--primary-color);background-color:var(--app-selected)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-mdc-button-persistent-ripple{border-radius:50%}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-badge-content{font-size:10px;line-height:14px;font-weight:600}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-lg) 0 var(--spacing-xl);scroll-behavior:smooth}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--app-text-disabled)}.welcome-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;padding:var(--spacing-xl)}.welcome-message[_ngcontent-%COMP%]   .welcome-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:var(--primary-color);opacity:.8;margin-bottom:var(--spacing-lg)}.welcome-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 var(--spacing-sm) 0;color:var(--app-text-primary);font-weight:400}.welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--app-text-secondary);margin:0}.messages-list[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:0 var(--spacing-lg) calc(var(--spacing-xl) * 2)}.message[_ngcontent-%COMP%]{display:flex;margin-bottom:var(--spacing-lg)}.message.user[_ngcontent-%COMP%]{justify-content:flex-end}.message.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{flex-direction:row-reverse}.message.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{margin-left:var(--spacing-md);margin-right:0;background-color:var(--primary-color);color:#fff}.message.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border-radius:18px 18px 4px}.message.assistant[_ngcontent-%COMP%]{justify-content:flex-start}.message.assistant[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{background-color:var(--app-surface);color:var(--primary-color);border:1px solid var(--app-divider)}.message.assistant[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background-color:var(--app-surface);color:var(--app-text-primary);border-radius:18px 18px 18px 4px;box-shadow:0 1px 2px #0000000d}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{display:flex;align-items:flex-start;max-width:70%}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;margin-right:var(--spacing-md);flex-shrink:0}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md);white-space:pre-wrap;word-wrap:break-word;line-height:1.5}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;padding:var(--spacing-sm) var(--spacing-md)}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:var(--app-text-secondary);margin:0 2px;animation:_ngcontent-%COMP%_typing 1.4s infinite}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_typing{0%,60%,to{transform:translateY(0);opacity:.5}30%{transform:translateY(-10px);opacity:1}}.input-container[_ngcontent-%COMP%]{background-color:var(--app-surface);border-top:1px solid var(--app-divider);box-shadow:0 -2px 10px #0000000d;z-index:2}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:var(--spacing-md) var(--spacing-lg);position:relative;display:flex;align-items:flex-end}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:var(--spacing-md) 60px var(--spacing-md) var(--spacing-md);border:none;outline:none;background-color:var(--app-background);border-radius:24px;resize:none;font-family:inherit;font-size:15px;line-height:1.5;color:var(--app-text-primary);min-height:48px;max-height:120px;overflow-y:auto;transition:box-shadow var(--transition-fast)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px var(--app-focus)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::placeholder{color:var(--app-text-secondary)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--app-divider);border-radius:2px}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{position:absolute;right:calc(var(--spacing-lg) + 4px);bottom:calc(var(--spacing-md) + 4px);width:40px;height:40px;background-color:var(--primary-color);color:#fff;transition:all var(--transition-fast)}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05);box-shadow:0 2px 8px #2196f34d}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{background-color:var(--app-divider);color:var(--app-text-disabled);cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.chat-sidecar[_ngcontent-%COMP%]{position:fixed;right:0;top:0;height:100vh;width:400px;background-color:var(--app-surface);border-left:1px solid var(--app-divider);box-shadow:-2px 0 8px #0000001a;display:flex;flex-direction:column;z-index:10}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:var(--spacing-md) var(--spacing-lg);border-bottom:1px solid var(--app-divider);background-color:var(--app-surface)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--app-text-primary)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--app-text-primary);background-color:var(--app-hover)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .context-panel[_ngcontent-%COMP%], .chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .history-panel[_ngcontent-%COMP%], .chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .tools-panel[_ngcontent-%COMP%]{padding:var(--spacing-md)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .context-section[_ngcontent-%COMP%]{margin-bottom:var(--spacing-lg)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .context-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 var(--spacing-md) 0;font-size:14px;font-weight:500;color:var(--app-text-secondary);text-transform:uppercase}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .context-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   .context-section[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:var(--spacing-xs)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{cursor:pointer}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]:hover{background-color:var(--app-hover)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-text-secondary)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemTitle][_ngcontent-%COMP%]{font-size:14px;color:var(--app-text-primary)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   [matListItemLine][_ngcontent-%COMP%]{font-size:12px;color:var(--app-text-secondary)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:var(--spacing-sm)}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:14px}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[dense][_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:36px}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[dense][_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.chat-sidecar[_ngcontent-%COMP%]   .sidecar-content[_ngcontent-%COMP%]   mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[dense][_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}@media (max-width: 1200px){.chat-sidecar[_ngcontent-%COMP%]{width:350px}.chat-container.with-sidecar[_ngcontent-%COMP%]{margin-right:350px}}@media (max-width: 768px){.chat-header[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-lg)}.chat-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.messages-list[_ngcontent-%COMP%]{padding:0 var(--spacing-md)}.message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{max-width:85%}.input-container[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{padding:var(--spacing-sm) var(--spacing-md)}.chat-sidecar[_ngcontent-%COMP%]{width:100%;position:fixed}.chat-container.with-sidecar[_ngcontent-%COMP%]{margin-right:0}}"],data:{animation:[Kt("slideIn",[rt("false",st({transform:"translateX(100%)",opacity:0})),rt("true",st({transform:"translateX(0)",opacity:1})),Jt("false <=> true",Yt("300ms ease-in-out"))])]}})};export{Pi as ChatContainer};
