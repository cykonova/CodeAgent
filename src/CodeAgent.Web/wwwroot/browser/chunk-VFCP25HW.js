import{T as te,U as Le,Y as he,_ as H,ba as ze,ca as Ve,ea as Xe,k as ce,l as ee,m as Ke,ma as pe}from"./chunk-AZNNCJQY.js";import{$b as V,Ab as Se,B as De,Ba as R,Bc as Oe,C as Ce,Da as w,E as f,F as ae,G as oe,Gc as X,Hc as Re,J as y,Jb as W,Jc as S,Kb as G,Kc as _,L as Me,Lb as L,Ob as Z,Qb as Y,R as j,Tb as A,W as de,X as O,Y as x,Ya as Q,Yb as Fe,Zb as J,_ as u,_a as Te,_b as z,a as be,ab as Ne,b as xe,ba as ke,ca as k,db as q,ea as U,ec as le,fa as we,fc as Be,ga as d,gc as Pe,ib as T,jb as N,k as B,kb as g,l as m,m as Ee,mb as E,o as h,p as M,pc as b,q as re,rb as K,s as p,sb as Ie,t as P,w as se,wa as $,yb as I,zb as Ae}from"./chunk-FTBPKMGT.js";var ue=class{dataNodes;expansionModel=new pe(!0);trackBy;getLevel;isExpandable;getChildren;toggle(r){this.expansionModel.toggle(this._trackByValue(r))}expand(r){this.expansionModel.select(this._trackByValue(r))}collapse(r){this.expansionModel.deselect(this._trackByValue(r))}isExpanded(r){return this.expansionModel.isSelected(this._trackByValue(r))}toggleDescendants(r){this.expansionModel.isSelected(this._trackByValue(r))?this.collapseDescendants(r):this.expandDescendants(r)}collapseAll(){this.expansionModel.clear()}expandDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(r){let e=[r];e.push(...this.getDescendants(r)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(r){return this.trackBy?this.trackBy(r):r}};var He=class extends ue{getChildren;options;constructor(r,e){super(),this.getChildren=r,this.options=e,this.options&&(this.trackBy=this.options.trackBy),this.options?.isExpandable&&(this.isExpandable=this.options.isExpandable)}expandAll(){this.expansionModel.clear();let r=this.dataNodes.reduce((e,t)=>[...e,...this.getDescendants(t),t],[]);this.expansionModel.select(...r.map(e=>this._trackByValue(e)))}getDescendants(r){let e=[];return this._getDescendants(e,r),e.splice(1)}_getDescendants(r,e){r.push(e);let t=this.getChildren(e);Array.isArray(t)?t.forEach(n=>this._getDescendants(r,n)):re(t)&&t.pipe(y(1),Ce(Boolean)).subscribe(n=>{for(let s of n)this._getDescendants(r,s)})}},me=new U("CDK_TREE_NODE_OUTLET_NODE"),ne=(()=>{class i{viewContainer=d(q);_node=d(me,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["","cdkTreeNodeOutlet",""]]})}return i})(),ge=class{$implicit;level;index;count;constructor(r){this.$implicit=r}},ie=(()=>{class i{template=d(Te);when;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return i})();function je(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var F=(()=>{class i{_differs=d(Re);_changeDetectorRef=d(X);_elementRef=d(w);_dir=d(he);_onDestroy=new B;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new m({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new m([]);_nodeType=new m(null);_nodes=new m(new Map);_keyManagerNodes=new m([]);_keyManagerFactory=d(Le);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new pe(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;Ve(this._dataSource)?e=this._dataSource.connect(this):re(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=h(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(x(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return P([e,this._nodeType,t.changed.pipe(de(null),u(n=>{this._emitExpansionChanges(n)}))]).pipe(O(([n,s])=>s===null?h({renderNodes:n,flattenedNodes:null,nodeType:s}):this._computeRenderingData(n,s).pipe(p(a=>xe(be({},a),{nodeType:s})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let n of e.added)t.get(n)?._emitExpansionState(!0);for(let n of e.removed)t.get(n)?._emitExpansionState(!1)}_initializeKeyManager(){let e=P([this._keyManagerNodes,this._nodes]).pipe(p(([n,s])=>n.reduce((a,l)=>{let o=s.get(this._getExpansionKey(l));return o&&a.push(o),a},[]))),t={trackBy:n=>this._getExpansionKey(n.data),skipPredicate:n=>!!n.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,n)=>this._getExpansionKey(n));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,s){let a=t.diff(e);!a&&!this._viewInit||(a?.forEachOperation((l,o,c)=>{if(l.previousIndex==null)this.insertNode(e[c],c,n,s);else if(c==null)n.remove(o);else{let v=n.get(o);n.move(v,c)}}),a?.forEachIdentityChange(l=>{let o=l.item;if(l.currentIndex!=null){let c=n.get(l.currentIndex);c.context.$implicit=o}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let n=this._nodeDefs.find(s=>s.when&&s.when(t,e))||this._defaultNodeDef;return n}insertNode(e,t,n,s){let a=this._getLevelAccessor(),l=this._getNodeDef(e,t),o=this._getExpansionKey(e),c=new ge(e);s??=this._parents.get(o)??void 0,a?c.level=a(e):s!==void 0&&this._levels.has(this._getExpansionKey(s))?c.level=this._levels.get(this._getExpansionKey(s))+1:c.level=0,this._levels.set(o,c.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(l.template,c,t),D.mostRecentTreeNode&&(D.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(y(1),x(this._onDestroy)).subscribe(n=>{t.select(...n.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(y(1),x(this._onDestroy)).subscribe(n=>{t.deselect(...n.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),n=this._expansionModel??this.treeControl?.expansionModel;if(!n)return h([]);let s=this._getExpansionKey(e),a=n.changed.pipe(O(o=>o.added.includes(s)?h(!0):o.removed.includes(s)?h(!1):Ee),de(this.isExpanded(e)));if(t)return P([a,this._flattenedNodes]).pipe(p(([o,c])=>o?this._findChildrenByLevel(t,c,e,1):[]));let l=this._getChildrenAccessor();if(l)return te(l(e)??[]);throw je()}_findChildrenByLevel(e,t,n,s){let a=this._getExpansionKey(n),l=t.findIndex(C=>this._getExpansionKey(C)===a),o=e(n),c=o+s,v=[];for(let C=l+1;C<t.length;C++){let ye=e(t[C]);if(ye<=o)break;ye<=c&&v.push(t[C])}return v}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),n=this._getExpansionKey(e);return t.findIndex(s=>this._getExpansionKey(s)===n)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(p(t=>t.reduce((n,s)=>{let a=this._nodes.value.get(this._getExpansionKey(s));return a&&n.push(a),n},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,n]of t)if(e.target===n._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return h(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return h(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(ae((t,n)=>(t.push(...n),t),[]));throw je()}_getAllChildrenRecursively(e){return this.childrenAccessor?te(this.childrenAccessor(e)).pipe(y(1),O(t=>{for(let n of t)this._parents.set(this._getExpansionKey(n),e);return h(...t).pipe(oe(n=>se(h([n]),this._getAllChildrenRecursively(n))))})):h([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),n=this._parents.get(t),s=n?this._getExpansionKey(n):null;return this._ariaSets.get(s)??[e]}_findParentForNode(e,t,n){if(!n.length)return null;let s=this._levels.get(this._getExpansionKey(e))??0;for(let a=t-1;a>=0;a--){let l=n[a];if((this._levels.get(this._getExpansionKey(l))??0)<s)return l}return null}_flattenNestedNodesWithExpansion(e,t=0){let n=this._getChildrenAccessor();return n?h(...e).pipe(oe(s=>{let a=this._getExpansionKey(s);this._parents.has(a)||this._parents.set(a,null),this._levels.set(a,t);let l=te(n(s));return se(h([s]),l.pipe(y(1),u(o=>{this._ariaSets.set(a,[...o??[]]);for(let c of o??[]){let v=this._getExpansionKey(c);this._parents.set(v,s),this._levels.set(v,t+1)}}),O(o=>o?this._flattenNestedNodesWithExpansion(o,t+1).pipe(p(c=>this.isExpanded(s)?c:[])):h([]))))}),ae((s,a)=>(s.push(...a),s),[])):h([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(p(n=>({renderNodes:n,flattenedNodes:n})));if(this.levelAccessor&&t==="nested"){let n=this.levelAccessor;return h(e.filter(s=>n(s)===0)).pipe(p(s=>({renderNodes:s,flattenedNodes:e})),u(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return t==="flat"?h({renderNodes:e,flattenedNodes:e}).pipe(u(({flattenedNodes:n})=>{this._calculateParents(n)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(p(n=>({renderNodes:e,flattenedNodes:n}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(let n=0;n<e.length;n++){let s=e[n],a=this._getExpansionKey(s);this._levels.set(a,t(s));let l=this._findParentForNode(s,n,e);this._parents.set(a,l);let o=l?this._getExpansionKey(l):null,c=this._ariaSets.get(o)??[];c.splice(n,0,s),this._ariaSets.set(o,c)}}}_forEachExpansionKey(e){let t=[],n=[];this._nodes.value.forEach(s=>{t.push(this._getExpansionKey(s.data)),n.push(this._getDescendants(s.data))}),n.length>0?P(n).pipe(y(1),x(this._onDestroy)).subscribe(s=>{s.forEach(a=>a.forEach(l=>t.push(this._getExpansionKey(l)))),e(t)}):e(t)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["cdk-tree"]],contentQueries:function(t,n,s){if(t&1&&Fe(s,ie,5),t&2){let a;z(a=V())&&(n._nodeDefs=a)}},viewQuery:function(t,n){if(t&1&&J(ne,7),t&2){let s;z(s=V())&&(n._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,n){t&1&&A("keydown",function(a){return n._sendKeydownToKeyManager(a)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,n){t&1&&Z(0,0)},dependencies:[ne],encapsulation:2})}return i})(),D=(()=>{class i{_elementRef=d(w);_tree=d(F);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new K;expandedChange=new K;static mostRecentTreeNode=null;_destroyed=new B;_dataChanges=new B;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=d(X);constructor(){i.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Ge(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(p(()=>this.isExpanded),Me(),x(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,n){t&1&&A("click",function(){return n._setActiveItem()})("focus",function(){return n._focusItem()}),t&2&&(Y("tabIndex",n._tabindex),I("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",S],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",S],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return i})();function Ge(i){let r=i.parentElement;for(;r&&!Ze(r);)r=r.parentElement;return r?r.classList.contains("cdk-nested-tree-node")?_(r.getAttribute("aria-level")):0:-1}function Ze(i){let r=i.classList;return!!(r?.contains("cdk-nested-tree-node")||r?.contains("cdk-tree"))}var Ye=/([A-Za-z%]+)$/,_e=(()=>{class i{_treeNode=d(D);_tree=d(F);_element=d(w);_dir=d(he,{optional:!0});_currentPadding;_destroyed=new B;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(x(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let n=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",a=s==="paddingLeft"?"paddingRight":"paddingLeft";n.style[s]=t||"",n.style[a]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,n="px";if(typeof e=="string"){let s=e.split(Ye);t=s[0],n=s[1]||n}this.indentUnits=n,this._indent=_(t),this._setPadding()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",_],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return i})(),ve=(()=>{class i{_tree=d(F);_treeNode=d(D);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,n){t&1&&A("click",function(a){return n._toggle(),a.stopPropagation()})("keydown.Enter",function(a){return n._toggle(),a.preventDefault()})("keydown.Space",function(a){return n._toggle(),a.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",S]}})}return i})();var Ue=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=N({type:i});static \u0275inj=k({})}return i})();function Je(i){return!!i._isNoopTreeKeyManager}var Pt=(()=>{class i extends D{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return Je(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();let e=d(new Oe("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,n){t&1&&A("click",function(){return n._focusItem()}),t&2&&(Y("tabIndex",n._getTabindexAttribute()),I("aria-expanded",n._getAriaExpanded())("aria-level",n.level+1)("aria-posinset",n._getPositionInSet())("aria-setsize",n._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:_(e)],disabled:[2,"disabled","disabled",S]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[b([{provide:D,useExisting:i}]),E]})}return i})(),Ot=(()=>{class i extends ie{data;static \u0275fac=(()=>{let e;return function(n){return(e||(e=R(i)))(n||i)}})();static \u0275dir=g({type:i,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[b([{provide:ie,useExisting:i}]),E]})}return i})();var Rt=(()=>{class i extends _e{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=R(i)))(n||i)}})();static \u0275dir=g({type:i,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",_],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[b([{provide:_e,useExisting:i}]),E]})}return i})(),$e=(()=>{class i{viewContainer=d(q);_node=d(me,{optional:!0});static \u0275fac=function(t){return new(t||i)};static \u0275dir=g({type:i,selectors:[["","matTreeNodeOutlet",""]],features:[b([{provide:ne,useExisting:i}])]})}return i})(),Kt=(()=>{class i extends F{_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=R(i)))(n||i)}})();static \u0275cmp=T({type:i,selectors:[["mat-tree"]],viewQuery:function(t,n){if(t&1&&J($e,7),t&2){let s;z(s=V())&&(n._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[b([{provide:F,useExisting:i}]),E],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,n){t&1&&Z(0,0)},dependencies:[$e],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return i})(),Lt=(()=>{class i extends ve{static \u0275fac=(()=>{let e;return function(n){return(e||(e=R(i)))(n||i)}})();static \u0275dir=g({type:i,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[b([{provide:ve,useExisting:i}]),E]})}return i})();var zt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=N({type:i});static \u0275inj=k({imports:[Ue,H,H]})}return i})();var Qe=class extends ze{get data(){return this._data.value}set data(r){this._data.next(r)}_data=new m([]);connect(r){return De(r.viewChange,this._data).pipe(p(()=>this.data))}disconnect(){}};function et(i,r){i&1&&L(0,"div",2)}var tt=new U("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Yt=(()=>{class i{_elementRef=d(w);_ngZone=d(Ie);_changeDetectorRef=d(X);_renderer=d(Ne);_cleanupTransitionEnd;constructor(){let e=Xe(),t=d(tt,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=qe(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=qe(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new K;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,n){t&2&&(I("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),Pe("mat-"+n.color),Be("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",_],bufferValue:[2,"bufferValue","bufferValue",_],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,n){t&1&&(W(0,"div",0),L(1,"div",1),Ae(2,et,1,0,"div",2),G(),W(3,"div",3),L(4,"span",4),G(),W(5,"div",5),L(6,"span",4),G()),t&2&&(Q(),le("flex-basis",n._getBufferBarFlexBasis()),Q(),Se(n.mode==="buffer"?2:-1),Q(),le("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function qe(i,r=0,e=100){return Math.max(r,Math.min(e,i))}var Jt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=N({type:i});static \u0275inj=k({imports:[H]})}return i})();var We=class i{constructor(r){this.http=r}apiUrl="http://localhost:5001/api/file";currentPath=$("");loadingState=$(!1);errorState=$(null);fileChanges$=new m(null);getCurrentPath(){return this.currentPath}getLoadingState(){return this.loadingState}getErrorState(){return this.errorState}getFileChanges(){return this.fileChanges$.asObservable()}handleError=r=>{let e="An error occurred";return r.error instanceof ErrorEvent?e=r.error.message:e=r.error?.error||r.message||`Server error: ${r.status}`,console.error("FileService error:",e,r),this.errorState.set(e),M(()=>new Error(e))};clearError(){this.errorState.set(null)}listFiles(r=""){this.clearError(),this.loadingState.set(!0);let e=new ee().set("path",r);return this.http.get(`${this.apiUrl}/browse`,{params:e}).pipe(j(2),p(t=>this.convertToFileNodes(t.entries,t.currentPath)),u(()=>{this.currentPath.set(r),this.loadingState.set(!1)}),f(t=>(this.loadingState.set(!1),this.handleError(t))))}convertToFileNodes(r,e){return r.map(t=>({name:t.name,path:t.path,type:t.isDirectory?"folder":"file",size:t.size,modified:t.modified?new Date(t.modified):void 0,extension:t.isDirectory?void 0:t.name.split(".").pop()?.toLowerCase(),children:t.isDirectory?[]:void 0}))}readFile(r){this.clearError(),this.loadingState.set(!0);let e=new ee().set("path",r);return this.http.get(`${this.apiUrl}/read`,{params:e}).pipe(j(1),p(t=>({path:t.path,content:t.content,encoding:"utf-8",size:t.content?.length||0,modified:new Date})),u(()=>this.loadingState.set(!1)),f(t=>(this.loadingState.set(!1),this.handleError(t))))}editFile(r,e){this.clearError(),this.loadingState.set(!0);let t=new ce({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/edit`,{path:r,content:e},{headers:t}).pipe(f(this.handleError),u(n=>{this.loadingState.set(!1),n.applied&&this.fileChanges$.next({action:"edit",path:r})}),f(n=>(this.loadingState.set(!1),M(()=>n))))}deleteFile(r){this.clearError(),this.loadingState.set(!0);let e=new ee().set("path",r);return this.http.delete(`${this.apiUrl}`,{params:e}).pipe(f(this.handleError),u(()=>{this.loadingState.set(!1),this.fileChanges$.next({action:"delete",path:r})}),f(t=>(this.loadingState.set(!1),M(()=>t))))}createFile(r,e=""){this.clearError(),this.loadingState.set(!0);let t=new ce({"Content-Type":"application/json"});return this.http.post(`${this.apiUrl}/create`,{path:r,content:e},{headers:t}).pipe(f(this.handleError),u(()=>{this.loadingState.set(!1),this.fileChanges$.next({action:"create",path:r})}),f(n=>(this.loadingState.set(!1),M(()=>n))))}searchFiles(r,e=""){this.clearError(),this.loadingState.set(!0);let t={pattern:r};return e&&(t.directory=e),this.http.get(`${this.apiUrl}/search`,{params:t}).pipe(j(1),f(this.handleError),u(()=>this.loadingState.set(!1)),f(n=>(this.loadingState.set(!1),M(()=>n))))}getFileExtension(r){return r.split(".").pop()?.toLowerCase()||""}isTextFile(r){return["txt","md","json","js","ts","html","css","scss","less","py","java","cs","cpp","c","h","php","rb","go","rs","xml","yml","yaml","toml","ini","cfg","conf"].includes(this.getFileExtension(r))}isImageFile(r){return["jpg","jpeg","png","gif","bmp","svg","webp"].includes(this.getFileExtension(r))}formatFileSize(r){if(r===0)return"0 B";let e=1024,t=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(r)/Math.log(e));return parseFloat((r/Math.pow(e,n)).toFixed(2))+" "+t[n]}formatDate(r){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}getParentPath(r){return r.split("/").slice(0,-1).join("/")||"/"}getFileName(r){return r.split("/").pop()||""}joinPath(...r){return r.filter(e=>e&&e!=="/").join("/").replace(/\/+/g,"/")}static \u0275fac=function(e){return new(e||i)(we(Ke))};static \u0275prov=ke({token:i,factory:i.\u0275fac,providedIn:"root"})};export{He as a,Pt as b,Ot as c,Rt as d,Kt as e,Lt as f,zt as g,Qe as h,Yt as i,Jt as j,We as k};
